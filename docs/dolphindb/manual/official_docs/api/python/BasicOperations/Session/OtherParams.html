<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../../../../favicon.ico"/><link rel="icon" href="../../../../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="本节将介绍 session 中常用的方法。 在 session 中执行脚本可以调用 session.run 方法，方法接口如下： run(script, *args, **kwargs) script ：待执行脚本或函数名。 args ：待执行函数的参数。 单独传入 script 且不传入 args 不定长位置参数时，表示执行脚本。 示例如下： &gt;&gt;&gt; s.run( &#34;x = 1;&#34; ) ..."/><meta name="DC.rights.owner" content="(C) 版权 2024"/><meta name="copyright" content="(C) 版权 2024"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../../../../api/python/BasicOperations/session_connect.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="常用方法"/><title>常用方法</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../../../../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20240704100525325/api/python/BasicOperations/Session?&gt;&lt;?workdir-uri file:/tmp/temp20240704100525325/api/python/BasicOperations/Session/?&gt;&lt;?path2project ../../../../?&gt;&lt;?path2project-uri ../../../../?&gt;&lt;?path2rootmap-uri ../../../../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;常用方法&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;常用方法&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;本节将介绍 session 中常用的方法。&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:50;128:58&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_connapi.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../../../../api/python/BasicOperations/session_connect.dita&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:47;122:82&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_connapi.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;建立会话连接&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;执行脚本&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;执行脚本&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;在 session 中执行脚本可以调用 &lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:1;7:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;session.run&lt;/b&gt; 方法，方法接口如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;run(script, *args, **kwargs)&lt;/codeblock&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;基础功能参数&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;基础功能参数&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;13:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;15:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;15:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:2;15:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;script&lt;/b&gt;：待执行脚本或函数名。&lt;/p&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;17:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;17:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:3;17:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;args&lt;/b&gt;：待执行函数的参数。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;script执行脚本&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;19:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;19:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;script：执行脚本&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;19:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;21:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;单独传入 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:1;21:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;script&lt;/i&gt; 且不传入 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:2;21:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;args&lt;/i&gt; 不定长位置参数时，表示执行脚本。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;23:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;25:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;x = 1;&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;script--args执行函数和传参&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;script + args：执行函数和传参&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;29:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;31:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;除了运行脚本之外，run 命令可以直接在 DolphinDB 服务器上执行 DolphinDB 内置或用户自定义的函数。对于这种用法，run 方法的第一个参数是 DolphinDB 中的函数名，之后的参数则是该函数的参数。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;33:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;下面的示例展示 Python 程序通过 run 调用 DolphinDB 内置的 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/a/add.dita&#34; xtrc=&#34;xref:1;33:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;add 函数&lt;/xref&gt;。add 函数有 x 和 y 两个参数。根据参数是否已在 DolphinDB 服务端被赋值，有以下三种调用方式：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;35:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:4;35:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;(1) 所有参数均已在 DolphinDB 服务端被赋值&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;37:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;若变量 x 和 y 已经通过 Python 程序在 DolphinDB 服务端被赋值：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;39:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;x = [1,3,5];y = [2,4,6]&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;43:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;那么在 Python 端要对这两个向量做加法运算，只需直接使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;43:33&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;run(script)&lt;/codeph&gt; 即可：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;45:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;add(x,y)&#34;) array([3, 7, 11], dtype=int32)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:5;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;(2) 仅有一个参数 DolphinDB 服务端被赋值&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;若仅变量 x 已通过 Python 程序在服务器端被赋值：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;x = [1,3,5];&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;而参数 y 要在调用 add 函数时一并赋值，需要使用 “部分应用” 方式把参数 x 固化在 add 函数内。具体请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../progr/partial_app.dita&#34; xtrc=&#34;xref:2;58:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;部分应用&lt;/xref&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import numpy as np &amp;gt;&amp;gt;&amp;gt; y = np.array([1,2,3]) &amp;gt;&amp;gt;&amp;gt; result = s.run(&#34;add{x,}&#34;, y) &amp;gt;&amp;gt;&amp;gt; result array([2,5,8]) &amp;gt;&amp;gt;&amp;gt; result.dtype dtype('int64')&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;70:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:6;70:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;(3) 两个参数都待由 Python 客户端赋值&lt;/b&gt;&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;72:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import numpy as np &amp;gt;&amp;gt;&amp;gt; x = np.array([1.5,2.5,7]) &amp;gt;&amp;gt;&amp;gt; y = np.array([8.5,7.5,3]) &amp;gt;&amp;gt;&amp;gt; result = s.run(&#34;add&#34;, x, y) &amp;gt;&amp;gt;&amp;gt; result array([10., 10., 10.]) &amp;gt;&amp;gt;&amp;gt; result.dtype dtype('float64')&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;83:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;通过 run 调用 DolphinDB 的内置函数时，客户端上传参数的数据结构可以是标量 (scalar)，列表 (list)，字典 (dict)，NumPy 的对象，pandas 的 DataFrame 和 Series 等等。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:7;85:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;87:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;NumPy array 的维度不能超过 2。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;88:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;pandas 的 DataFrame 和 Series 若有 index，在上传到 DolphinDB 以后会丢失。如果需要保留 index 列，则需要使用 pandas 的 DataFrame 函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;88:104&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;reset_index&lt;/codeph&gt;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;89:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;如果 DolphinDB 函数的参数是时间或日期类型，Python 客户端上传时，参数应该先转换为 numpy.datetime64 类型。&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;高级功能参数&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;91:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;91:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;高级功能参数&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;91:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;clearmemory&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:3;93:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;clearMemory&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;93:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;95:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;使用 run 方法时，有时为减少内存占用，希望 server 能在执行完毕后自动释放 run 语句中创建的变量。此时可通过指定 session 以及 DBConnectionPool 对象的 run 方法的参数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;95:107&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;clearMemory=True&lt;/codeph&gt; 来实现。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;97:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;t=1&#34;, clearMemory = True) &amp;gt;&amp;gt;&amp;gt; s.run(&#34;t&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;102:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;由于 t 在执行完毕后就被清除了，所以执行 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;102:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;s.run(&#34;t&#34;)&lt;/codeph&gt; 会抛出异常:&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;104:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;RuntimeError: &amp;lt;Exception&amp;gt; in run: Server response: 'Syntax Error: [line #1] Cannot recognize the token t' script: 't'&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;pickletabletolist&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;108:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;108:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:4;108:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;pickleTableToList&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;108:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;110:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;当 session 构造时指定的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:5;110:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;protocol&lt;/i&gt; 为 PROTOCOL_DDB 或者 PROTOCOL_PICKLE 时，该参数有效。开启该参数后，如果返回值为 Table，则对应 Python 对象为一个 numpy.ndarray 的列表，列表中每一个元素表示原 Table 中的一列。有关数据格式的相关内容，请参考章节&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../AdvancedOperations/DataTypeCasting/TypeCasting.md&#34; xtrc=&#34;xref:3;110:166&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;类型转换&lt;/xref&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;112:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import dolphindb.settings as keys &amp;gt;&amp;gt;&amp;gt; s = ddb.session(protocol=keys.PROTOCOL_DDB) &amp;gt;&amp;gt;&amp;gt; s.connect(&#34;localhost&#34;, 8848) True &amp;gt;&amp;gt;&amp;gt; s.run(&#34;table(1..3 as a)&#34;) a 0 1 1 2 2 3 &amp;gt;&amp;gt;&amp;gt; s.run(&#34;table(1..3 as a)&#34;, pickleTableToList=True) [array([1, 2, 3], dtype=int32)]&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;fetchsize&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:6;126:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;fetchSize&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;126:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;128:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;对于大数据量的表，API 提供了分段读取方法。（仅适用于 DolphinDB 1.20.5 及以上版本，Python API 1.30.0.6 及以上版本）&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;130:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;在 Python 客户端执行以下代码创建一个大数据量的表：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;132:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s = ddb.session() &amp;gt;&amp;gt;&amp;gt; s.connect(&#34;localhost&#34;, 8848, &#34;admin&#34;, &#34;123456&#34;) True &amp;gt;&amp;gt;&amp;gt; script = &#34;&#34;&#34; ... rows=100000; ... testblock=table(take(1,rows) as id,take(`A,rows) as symbol,take(2020.08.01..2020.10.01,rows) as date, rand(50,rows) as size,rand(50.5,rows) as price); ... &#34;&#34;&#34; &amp;gt;&amp;gt;&amp;gt; s.run(script)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;143:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;在 run 方法中使用参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:7;143:15&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;fetchSize&lt;/i&gt; 指定分段大小 ，会返回一个 BlockReader 对象，可通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;143:60&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;read()&lt;/codeph&gt; 方法一段段的读取数据。需要注意的是 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:8;143:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;fetchSize&lt;/i&gt; 取值不能小于 8192（记录条数），示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; script1 = &#34;select * from testblock&#34; &amp;gt;&amp;gt;&amp;gt; block= s.run(script1, fetchSize = 8192) &amp;gt;&amp;gt;&amp;gt; total = 0 &amp;gt;&amp;gt;&amp;gt; while block.hasNext(): ... tem = block.read() ... total+=len(tem) ... &amp;gt;&amp;gt;&amp;gt; total 100000&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;157:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;使用上述分段读取的方法时，若数据未读取完毕，需要调用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;157:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;skipAll&lt;/codeph&gt; 方法来放弃读取后续数据，才能继续执行后续代码。否则会导致套接字缓冲区滞留数据，引发后续数据的反序列化失败。示例代码如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;159:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; block= s.run(script1, fetchSize = 8192) &amp;gt;&amp;gt;&amp;gt; re = block.read() &amp;gt;&amp;gt;&amp;gt; block.skipAll() &amp;gt;&amp;gt;&amp;gt; s.run(&#34;1+1;&#34;) # 若没有调用 skipAll，执行此代码会抛出异常。 2&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;priority&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:9;167:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;priority&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;167:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;169:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;优先级表示系统赋予作业的优先数，用于决定作业调度的先后顺序。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;171:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;在 DolphinDB 中，作业按照&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../../../tutorials/job_management_tutorial.md&#34; xtrc=&#34;xref:4;171:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;优先级&lt;/xref&gt;进行调度。优先级的取值范围为 0-9，取值越高则表明优先级越高。对于优先级高的作业，系统会优先给与计算资源。基于作业的优先级，DolphinDB 设计了多级反馈队列来调度作业的执行。具体来说，系统共维护了10个队列，分别对应10个优先级。系统总是将线程资源分配给高优先级的作业；当一个高优先级队列为空时，系统才会处理低优先级队列中的作业；对于处于相同优先级的作业，系统会以 round-robin 的方式将线程资源分配给作业。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;173:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;Python API 自 1.30.22.2 版本起，session 和 DBConnectionPool 中 run 方法提供 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:10;173:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;priority&lt;/i&gt; 参数，其用于指定任务的优先级，默认值为 4。使用示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;175:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;1+1&#34;, priority=9)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;parallelism&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:11;179:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;parallelism&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;179:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;并行度表示在一个数据节点上，最多同时可以用多少个线程来执行该作业产生的子任务。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;183:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;Python API 自 1.30.22.2 版本起，session 和 DBConnectionPool 中 run 方法提供 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:12;183:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;parallelism&lt;/i&gt; 参数，其用于指定任务的并行度，默认值为 2。使用示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;185:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.run(&#34;1+1&#34;, parallelism=16)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;189:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;可参考 &lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../../../tutorials/job_management_tutorial.md&#34; xtrc=&#34;xref:5;189:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 关于作业并行度的介绍&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;disabledecimal&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:13;191:6&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;disableDecimal&lt;/i&gt;&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;191:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;193:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;该参数用于控制是否自动将返回的结果表中的 DECIMAL 类型列转换为 DOUBLE 类型列。如果指定该参数为 True，则执行脚本的结果表中的 DECIMAL 类型列将被转换为 DOUBLE 类型列并返回。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;195:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;自 Python API 3.0.0.2 版本起，session/Session 和 DBConnectionPool 类中的 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;195:65&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;run&lt;/codeph&gt; 方法开始支持该参数。必须配合 2.00.12.3/3.00.1 及以上的 DolphinDB 服务器使用该参数。使用示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:16;197:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; df = s.run(&#34;table(decimal32([1.23, 2.3456], 3) as a)&#34;, disableDecimal=True) &amp;gt;&amp;gt;&amp;gt; df.dtypes a float64 dtype: object&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;相关方法&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;204:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;204:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;相关方法&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;204:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;runfile&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;runFile&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;206:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;208:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;208:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;runFile&lt;/codeph&gt; 方法可读取文件所有内容作为脚本执行，可以如 run 方法一样传入不定长位置参数和不定长关键字参数。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:8;210:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;： 该文件路径为客户端的本地路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;212:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;使用示例如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:17;214:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; with open(&#34;./test.dos&#34;, &#34;w+&#34;) as f: ... f.write(&#34;&#34;&#34; ... t = table(1..3 as a); ... t; ... &#34;&#34;&#34;) ... 47 &amp;gt;&amp;gt;&amp;gt; s.runFile(&#34;./test.dos&#34;) a 0 1 1 2 2 3&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;上传变量&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;229:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;229:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;上传变量&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;229:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:18;231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;upload(nameObjectDict)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;235:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;235:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;upload&lt;/codeph&gt; 方法用于上传 Python 对象到服务端，接收一个 dict 对象，其中字典的键表示待上传变量的变量名，字典的值则表示待上传的变量，可以是 int, str, pd.DataFrame, np.ndarray, dict 和 set 等。上传成功则返回上传对象在服务端的内存地址。关于如何上传各类型的 Python 对象，以及对应的服务端数据类型，请参考&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../AdvancedOperations/DataTypeCasting/TypeCasting.md&#34; xtrc=&#34;xref:6;235:187&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;数据类型&lt;/xref&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:19;237:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.upload({'a': 8, 'b': &#34;abc&#34;, 'c': {'a':1, 'b':2}}) [59763200, 60161968, 54696752] &amp;gt;&amp;gt;&amp;gt; s.run(&#34;a&#34;) 8 &amp;gt;&amp;gt;&amp;gt; s.run(&#34;b&#34;) abc &amp;gt;&amp;gt;&amp;gt; s.run(&#34;c&#34;) {'a': 1, 'b': 2}&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;加载数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;加载数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;250:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;本节将用到 &lt;xref class=&#34;- topic/xref &#34; format=&#34;csv&#34; href=&#34;../../data/example.csv&#34; xtrc=&#34;xref:7;250:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;?ditaot usertext?&gt;example.csv&lt;/xref&gt; 文件。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;table&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;252:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;252:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;table&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;252:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:20;254:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;table(dbPath=None, data=None, tableAliasName=None, inMem=False, partitions=None)&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;258:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;258:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:9;258:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;data&lt;/b&gt; ：字符串或字典、DataFrame。如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:14;258:33&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;data&lt;/i&gt; 为字符串，表示服务端数据表表名；如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:15;258:59&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;data&lt;/i&gt; 为字典或 DataFrame，则表示将本地数据作为临时表上传到服务器。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:10;259:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dbPath&lt;/b&gt; ：字符串，表示待加载数据表所在的数据库地址。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;260:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:11;260:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableAliasName&lt;/b&gt; ：用于指定待加载表的别名。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:12;261:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;inMem&lt;/b&gt; ：是否将数据从服务器磁盘加载到服务器内存中。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;262:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:13;262:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;partitions&lt;/b&gt; ：表示要加载的分区。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;264:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:14;264:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;： table 函数在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:16;264:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;data&lt;/i&gt; 为字符串时，实际是封装了 DolphinDB 的 loadTable 函数，从指定数据库中加载对应表，并获取其句柄。关于 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:17;264:87&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;inMem&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:18;264:97&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;partitions&lt;/i&gt; 参数的详细含义请参考&lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/l/loadTable.dita&#34; xtrc=&#34;xref:8;264:120&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;loadTable&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;266:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;对数据表句柄的操作以及面向对象的 SQL 查询，请参考章节&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../AdvancedOperations/ObjectOrientedOperationsOnDdbOBjects/Table.md&#34; xtrc=&#34;xref:9;266:30&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;面向对象操作&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;loadtable&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTable&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:21;270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTable(tableName, dbPath=None, partitions=None, memoryMode=False)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTable&lt;/codeph&gt; 方法的使用与 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;274:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;table&lt;/codeph&gt; 方法相似，但该方法仅用于加载服务器端指定表，获取其句柄。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;loadtablebysql&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTableBySQL&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:22;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTableBySQL(tableName, dbPath, sql)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;282:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;该方法封装 DolphinDB &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;282:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTableBySQL&lt;/codeph&gt; 函数，将满足 SQL 查询中筛选条件的记录加载为内存中的分区表，返回内存表句柄给 API。函数详细说明请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/l/loadTableBySQL.dita&#34; xtrc=&#34;xref:10;282:89&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;loadTableBySQL&lt;/xref&gt;。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;284:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;284:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:15;284:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableName/dbPath&lt;/b&gt; ：根据 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:19;284:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableName&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:20;284:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dbPath&lt;/i&gt; 加载 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:21;284:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;sql&lt;/i&gt; 中使用到的分区表。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;285:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:16;285:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;sql&lt;/b&gt; ：SQL 查询的元代码。它可以用 WHERE 子句来过滤分区或记录行，也可以用 SELECT 语句选择包括计算列在内的列，但不能包含 TOP 子句、GROUP BY 子句、 ORDER BY 子句、CONTEXT BY 子句和 LIMIT 子句。&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;loadtext&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadText&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;287:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:23;289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadText(remoteFilePath, delimiter=&#34;,&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;293:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;可使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:13;293:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadText&lt;/codeph&gt; 方法把文本文件导入到服务端的内存表中，文本文件必须和服务端在同一个服务器。该方法会在 Python 中返回一个 DolphinDB 内存表句柄。可使用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:14;293:92&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;toDF&lt;/codeph&gt; 方法把 Python 中的内存表句柄对象 Table 转换为 pandas.DataFrame。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;295:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:17;295:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;： 使用 loadText 方法时，载入的内存表数据量必须小于 DolphinDB 服务器可用内存。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:24;297:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; WORK_DIR = &#34;C:/DolphinDB/Data&#34; &amp;gt;&amp;gt;&amp;gt; trade = s.loadText(WORK_DIR+&#34;/example.csv&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;将返回的 DolphinDB 表对象转化为 pandas DataFrame。表的数据传输发生在此步骤。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:25;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; trade.toDF() TICKER date VOL PRC BID ASK 0 AMZN 1997.05.16 6029815 23.50000 23.50000 23.6250 1 AMZN 1997.05.17 1232226 20.75000 20.50000 21.0000 2 AMZN 1997.05.20 512070 20.50000 20.50000 20.6250 3 AMZN 1997.05.21 456357 19.62500 19.62500 19.7500 4 AMZN 1997.05.22 1577414 17.12500 17.12500 17.2500 5 AMZN 1997.05.23 983855 16.75000 16.62500 16.7500 ... 13134 NFLX 2016.12.29 3444729 125.33000 125.31000 125.3300 13135 NFLX 2016.12.30 4455012 123.80000 123.80000 123.8300&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadText 函数导入文件时的默认分隔符是','。用户也可指定其他符号作为分隔符。例如，导入'\t'分割的表格形式文本文件：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:26;320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; t1 = s.loadText(WORK_DIR+&#34;/t1.tsv&#34;, '\t')&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:18;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt; ：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:15;324:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadText&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:16;324:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;ploadText&lt;/codeph&gt; / &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:17;324:36&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx&lt;/codeph&gt; 都是将文件加载到服务端，并非加载本地文件。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;ploadtext&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;326:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;326:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;ploadText&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;326:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;328:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:18;328:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;ploadText&lt;/codeph&gt; 函数可以并行加文本文件到内存分区表中。其加载速度比 loadText 函数快。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:27;330:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; trade = s.ploadText(WORK_DIR+&#34;/example.csv&#34;) &amp;gt;&amp;gt;&amp;gt; trade.rows 13136&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;loadtextex&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:22;336:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:22;336:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:22;336:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:28;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx(dbPath, tableName, partitionColumns=None, remoteFilePath=None, delimiter=&#34;,&#34;, sortColumns=None)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;342:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;可使用函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:19;342:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx&lt;/codeph&gt; 把文本文件导入到分区数据库的分区表中。如果分区表不存在，函数会自动生成该分区表并把数据追加到表中。如果分区表已经存在，则直接把数据追加到分区表中。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:20;344:4&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx&lt;/codeph&gt; 的各个参数如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:19;346:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dbPath&lt;/b&gt; ：数据库路径。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;347:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:20;347:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableName&lt;/b&gt; ：分区表的名称。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:21;348:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;partitionColumns&lt;/b&gt; ：分区列。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;349:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:22;349:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;remoteFilePath&lt;/b&gt; ：文本文件在 DolphinDB 服务器上的绝对路径。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:23;350:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;delimiter&lt;/b&gt; ：文本文件的分隔符（默认分隔符是逗号）。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;351:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:24;351:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;sortColumns&lt;/b&gt;：字符串标量或向量，用于指定表的排序列，写入的数据将按 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:22;351:46&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;sortColumns&lt;/i&gt; 进行排序。注意，该参数仅适用于 TSDB 引擎。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;353:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;下面的例子使用函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:21;353:11&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;loadTextEx&lt;/codeph&gt; 创建了分区表 trade，并把 &lt;xref class=&#34;- topic/xref &#34; format=&#34;csv&#34; href=&#34;../../data/example.csv&#34; xtrc=&#34;xref:11;353:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;?ditaot usertext?&gt;example.csv&lt;/xref&gt; 中的数据加载到表中。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:29;355:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import dolphindb.settings as keys &amp;gt;&amp;gt;&amp;gt; if s.existsDatabase(&#34;dfs://valuedb&#34;): ... s.dropDatabase(&#34;dfs://valuedb&#34;) ... &amp;gt;&amp;gt;&amp;gt; s.database(dbName='mydb', partitionType=keys.VALUE, partitions=[&#34;AMZN&#34;,&#34;NFLX&#34;, &#34;NVDA&#34;], dbPath=&#34;dfs://valuedb&#34;) &amp;gt;&amp;gt;&amp;gt; trade = s.loadTextEx(dbPath=&#34;mydb&#34;, tableName='trade',partitionColumns=[&#34;TICKER&#34;], remoteFilePath=WORK_DIR + &#34;/example.csv&#34;) &amp;gt;&amp;gt;&amp;gt; trade.toDF() TICKER date VOL PRC BID ASK 0 AMZN 1997-05-15 6029815 23.500 23.500 23.625 1 AMZN 1997-05-16 1232226 20.750 20.500 21.000 2 AMZN 1997-05-19 512070 20.500 20.500 20.625 3 AMZN 1997-05-20 456357 19.625 19.625 19.750 4 AMZN 1997-05-21 1577414 17.125 17.125 17.250 ... ... ... ... ... ... ... 13131 NVDA 2016-12-23 16193331 109.780 109.770 109.790 13132 NVDA 2016-12-27 29857132 117.320 117.310 117.320 13133 NVDA 2016-12-28 57384116 109.250 109.250 109.290 13134 NVDA 2016-12-29 54384676 111.430 111.260 111.420 13135 NVDA 2016-12-30 30323259 106.740 106.730 106.750 [13136 rows x 6 columns]&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;379:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;返回表中的行数：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:30;381:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; trade.rows 13136&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;返回表中的列数：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:31;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; trade.cols 6&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;393:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;展示表的结构：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:32;395:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; trade.schema name typeString typeInt comment 0 TICKER SYMBOL 17 1 date DATE 6 2 VOL INT 4 3 PRC DOUBLE 16 4 BID DOUBLE 16 5 ASK DOUBLE 16&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;数据库表管理&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:23;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:23;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;数据库表管理&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:23;406:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;408:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;特别的，Python API 封装了部分服务端常用数据库表管理函数作为 session 的方法，用户可以调用这些方法对数据库表进行管理。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;database&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:24;410:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:24;410:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;database&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:24;410:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:33;412:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;database(dbName=None, partitionType=None, partitions=None, dbPath=None, engine=None, atomic=None, chunkGranularity=None)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:55;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;如果需要持久保存导入数据，或者需要导入的文件超过可用内存，可将数据导入 DFS 分区数据库保存。下面将使用一个例子来介绍如何创建分区数据库。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:56;418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;本节例子中会使用数据库 valuedb。首先检查该数据库是否存在，如果存在，将其删除：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:34;420:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; if s.existsDatabase(&#34;dfs://valuedb&#34;): ... s.dropDatabase(&#34;dfs://valuedb&#34;) ...&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:57;426:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;使用 database 方法创建值分区（VALUE）的数据库，使用股票代码作为分区字段。参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:23;426:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;partitions&lt;/i&gt; 表示分区方案。下例中，先导入 DolphinDB 的关键字，再创建数据库。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:35;428:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import dolphindb.settings as keys &amp;gt;&amp;gt;&amp;gt; s.database(dbName='mydb', partitionType=keys.VALUE, partitions=['AMZN','NFLX', 'NVDA'], dbPath='dfs://valuedb')&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:58;433:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;上述语句等同于在DolphinDB中执行脚本 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:22;433:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;db=database('dfs://valuedb', VALUE, ['AMZN','NFLX','NVDA'])&lt;/codeph&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:59;435:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;除了值分区（VALUE），DolphinDB 还支持哈希分区（HASH）、范围分区（RANGE）、列表分区（LIST）与组合分区（COMPO），具体请参见 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/d/database.dita&#34; xtrc=&#34;xref:12;435:79&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;database&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:60;437:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;创建了分区数据库后，不可更改分区类型，一般也不可更改分区方案，但是创建值分区或范围分区（或者复合分区中的值分区或范围分区）后，DolphinDB 脚本中可以分别使用 addValuePartitions 与 addRangePartitions 函数添加分区。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:61;439:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;database 方法的详细参数以及使用方法，请参考章节&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../AdvancedOperations/ObjectOrientedOperationsOnDdbOBjects/Database.md&#34; xtrc=&#34;xref:13;439:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;面向对象操作&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;existsdatabase&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:25;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:25;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;existsDatabase&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:25;441:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:36;443:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.existsDatabase(dbUrl=&#34;dfs://testDB&#34;) False&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:62;448:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;该函数用于判断 DolphinDB 服务端是否存在 dbUrl 对应的数据库，函数使用请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/e/existsDatabase.dita&#34; xtrc=&#34;xref:14;448:48&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;existsDatabase&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;existstable&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:26;450:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:26;450:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;existsTable&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:26;450:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:37;452:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.existsTable(dbUrl=&#34;dfs://valuedb&#34;, tableName=&#34;trade&#34;) True&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:63;457:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;检查指定表是否存在于指定数据库中，函数使用请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/e/existsTable.dita&#34; xtrc=&#34;xref:15;457:26&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;existsTable&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;dropdatabase&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:27;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:27;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dropDatabase&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:27;459:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:38;461:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.dropDatabase(dbPath=&#34;dfs://valuedb&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:64;465:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;删除指定数据库的所有物理文件，函数使用请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/d/dropDatabase.dita&#34; xtrc=&#34;xref:16;465:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;-dropDatabase&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;droppartition&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:28;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:28;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dropPartition&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:28;467:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:39;469:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.dropPartition(dbPath=&#34;dfs://valuedb&#34;, partitionPaths=&#34;AMZN&#34;, tableName=&#34;trade&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:65;473:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;删除数据库中指定分区的数据。如果指定了 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:24;473:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableName&lt;/i&gt;，则删除指定表中符合指定条件的分区数据。否则，删除指定数据库所有表中符合指定条件的分区数据。函数使用请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/d/dropPartition.dita&#34; xtrc=&#34;xref:17;473:86&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;dropPartition&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:66;475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:25;475:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;：如果创建数据库时指定分区粒度为 DATABASE，则可以不填 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:25;475:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;tableName&lt;/i&gt;，否则必须指定表名。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;droptable&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:29;477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:29;477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dropTable&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:29;477:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:40;479:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.dropTable(dbPath=&#34;dfs://valuedb&#34;, tableName=&#34;trade&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:67;483:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;删除指定数据库中的数据表，函数使用请参考 &lt;xref class=&#34;- topic/xref &#34; href=&#34;../../../../funcs/d/dropTable.dita&#34; xtrc=&#34;xref:18;483:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;dropTable&lt;/xref&gt;。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;其他方法&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:30;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:30;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;其他方法&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:30;485:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:68;487:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;除了上述方法，session 中还提供封装了一些其他常用的函数。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;undefundefall&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:31;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:31;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;undef/undefAll&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:31;489:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:41;491:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.undef(&#34;t1&#34;, &#34;VAR&#34;) &amp;gt;&amp;gt;&amp;gt; s.undefAll()&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:69;496:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;undef 方法释放 session 中的指定对象；undefAll 方法释放 session 中的全部对象。undef 支持的对象类型包括：&#34;VAR&#34;(变量)、&#34;SHARED&#34;(共享变量) 与 &#34;DEF&#34;(函数定义)。默认类型为变量 &#34;VAR&#34;。&#34;SHARED&#34; 指内存中跨 session 的共享变量，例如流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:70;498:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;假设 session 中有一个 DolphinDB 的表对象 t1，可以通过 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:23;498:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;undef(&#34;t1&#34;,&#34;VAR&#34;)&lt;/codeph&gt; 将该表释放掉。释放后，并不一定能够看到内存在服务端马上释放。这与 DolphinDB 的内存管理机制有关。DolphinDB 从操作系统申请的内存，释放后不会立即还给操作系统，因为这些释放的内存在 DolphinDB 中可以立即使用。申请内存首先从 DolphinDB 内部的池中申请内存，不足时才会向操作系统去申请。配置文件 (dolphindb.cfg) 中参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:26;498:244&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;maxMemSize&lt;/i&gt; 设置的内存上限会尽量保证。譬如设置为 8GB，那么 DolphinDB 会尽可能利用 8GB 内存。所以若用户需要反复 undef 内存中的一个变量以释放内存，为后续 server 的运行腾出更多内存空间，则需要将 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:27;498:365&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;maxMemSize&lt;/i&gt; 调整到一个合理的数值（不超过内存上限），否则当前内存没有释放，而后面需要的内存超过了系统的最大内存，DolphinDB 的进程就有可能被操作系统杀掉或者出现 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:24;498:457&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;out of memory&lt;/codeph&gt; 的错误。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;clearallcache&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:32;500:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:32;500:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;clearAllCache&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:32;500:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:42;502:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; s.clearAllCache() &amp;gt;&amp;gt;&amp;gt; s.clearAllCache(dfs=True)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:71;507:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:25;507:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;clearAllCache&lt;/codeph&gt; 方法会调用服务端同名方法来清理服务端缓存，如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:28;507:41&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dfs&lt;/i&gt; 参数为 True，将会在所有节点上清理缓存；否则只会在连接节点上清理。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;settimeout&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:33;509:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:33;509:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;setTimeout&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:33;509:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:72;511:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;与 session 建立连接时使用的参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:29;511:22&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;keepAliveTime&lt;/i&gt; 不同，&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:26;511:41&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;setTimeout&lt;/codeph&gt; 是 session 的类方法，用于设置 TCP 连接 TCP_USER_TIMEOUT 选项。可以设置用户允许 TCP 连接在没有端到端连接的情况下的生存时间（单位 秒/s）。参考 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://man7.org/linux/man-pages/man7/tcp.7.html&#34; scope=&#34;external&#34; xtrc=&#34;xref:19;511:145&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;?ditaot usertext?&gt;Linux Socket options&lt;/xref&gt;。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; outputclass=&#34;python&#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:43;513:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&amp;gt;&amp;gt;&amp;gt; ddb.session.setTimeout(3600)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:73;517:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:26;517:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;注意&lt;/b&gt;： 本方法仅在 Linux 系统生效。默认时间为 30 秒。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;流订阅相关&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:34;519:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:34;519:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;流订阅相关&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:34;519:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:74;521:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;dolphindb 提供流数据订阅接口，可以从服务器订阅流数据表，并获取其数据，详细介绍请参考章节&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../Subscription/Subscription.md&#34; xtrc=&#34;xref:20;521:50&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;流订阅基础&lt;/xref&gt;和&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../AdvancedOperations/SubscriptionOptions/SubscriptionOptions.md&#34; xtrc=&#34;xref:21;521:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;流订阅（进阶）&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:75;523:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/api/python/BasicOperations/Session/OtherParams.md&#34;&gt;相关方法：enableStreaming / subscribe / unsubscribe / getSubscriptionTopics&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="api/python/BasicOperations/Session/OtherParams.md"/><meta name="wh-out-relpath" content="api/python/BasicOperations/Session/OtherParams.html"/>

    <link rel="stylesheet" type="text/css" href="../../../../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../../../../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../../../../oxygen-webhelp/app/options/properties.js?buildId=20240704100525"></script>
    <script src="../../../../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../../../../oxygen-webhelp/app/search/index/keywords.js?buildId=20240704100525"></script>
    <script defer="defer" src="../../../../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../../../../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../../../../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="常用方法" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://www.dolphindb.cn" class=" wh_logo d-none d-sm-block "><img src="../../../../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../../../../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../../../../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>

            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../../../../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="api_protocol"><div class="title"><a href="../../../../api/connapi_intro.html"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li><div class="topicref" data-id="chap5_sectpythonapi"><div class="title"><a href="../../../../api/python/py.html"><span class="keyword label">Python API</span></a></div></div></li><li><div class="topicref" data-id="chap_basic_operations"><div class="title"><a href="../../../../api/python/basic_oper.html">基础操作</a></div></div></li><li><div class="topicref" data-id="session_connect"><div class="title"><a href="../../../../api/python/BasicOperations/session_connect.html">建立会话连接</a></div></div></li><li class="active"><div class="topicref" data-id="常用方法"><div class="title"><a href="../../../../api/python/BasicOperations/Session/OtherParams.html">常用方法</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="new_chap_about_sect_ddb_docs_intro-d9529e87" class="topicref" data-id="new_chap_about_sect_ddb_docs_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../about/ddb_docs_intro.html" id="new_chap_about_sect_ddb_docs_intro-d9529e87-link">文档使用说明</a><div class="wh-tooltip"><p class="shortdesc">如何获取 DolphinDB 帮助信息</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap1_getstarted-d9529e140" class="topicref" data-id="chap1_getstarted" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap1_getstarted-d9529e140-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9529e140-link"><span class="keyword label">快速上手</span></a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9529e335" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9529e335-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../deploy/deploy_intro.html" id="sectionddb_deployment-d9529e335-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9529e3490" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9529e3490-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../stream/str_intro.html" id="chap7_tutorials_streaming-d9529e3490-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e7385" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e7385-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../db_distr_comp/db_oper/import_data.html" id="tocId-d9529e7385-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9529e7812" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9529e7812-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9529e7812-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9529e16490" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9529e16490-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../progr/progr_intro.html" id="about_language_resources-d9529e16490-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9529e26503" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9529e26503-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../funcs/funcs_intro.html" id="functions_references-d9529e26503-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="api_protocol-d9529e86456" class="topicref" data-id="api_protocol" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action api_protocol-d9529e86456-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/connapi_intro.html" id="api_protocol-d9529e86456-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="cpp_api-d9529e86509" class="topicref" data-id="cpp_api" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action cpp_api-d9529e86509-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/cpp/cpp_api.html" id="cpp_api-d9529e86509-link">C++ API</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="chap5_sectpythonapi-d9529e88349" class="topicref" data-id="chap5_sectpythonapi" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action chap5_sectpythonapi-d9529e88349-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/py.html" id="chap5_sectpythonapi-d9529e88349-link"><span class="keyword label">Python API</span></a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="chap1_quickstart_landingpage-d9529e88417" class="topicref" data-id="chap1_quickstart_landingpage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap1_quickstart_landingpage-d9529e88417-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/py_vamos.html" id="chap1_quickstart_landingpage-d9529e88417-link">快速上手</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="chap_basic_operations-d9529e88585" class="topicref" data-id="chap_basic_operations" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action chap_basic_operations-d9529e88585-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/basic_oper.html" id="chap_basic_operations-d9529e88585-link">基础操作</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="true"><div data-tocid="session_connect-d9529e88631" class="topicref" data-id="session_connect" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action session_connect-d9529e88631-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/session_connect.html" id="session_connect-d9529e88631-link">建立会话连接</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="sessionsession-d9529e88677" class="topicref" data-id="sessionsession" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/Session/Constructor.html" id="sessionsession-d9529e88677-link">session/Session</a></div></div></li><li role="treeitem"><div data-tocid="connect-d9529e88723" class="topicref" data-id="connect" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/Session/Connect.html" id="connect-d9529e88723-link">Connect</a></div></div></li><li role="treeitem" class="active"><div data-tocid="常用方法-d9529e88769" class="topicref" data-id="常用方法" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/Session/OtherParams.html" id="常用方法-d9529e88769-link">常用方法</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="connection_pool-d9529e88815" class="topicref" data-id="connection_pool" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action connection_pool-d9529e88815-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/connection_pool.html" id="connection_pool-d9529e88815-link">构造连接池</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="table_append-d9529e88953" class="topicref" data-id="table_append" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action table_append-d9529e88953-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/table_append.html" id="table_append-d9529e88953-link">更新表数据</a></div></div></li><li role="treeitem"><div data-tocid="流数据订阅-d9529e89137" class="topicref" data-id="流数据订阅" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/Subscription/Subscription.html" id="流数据订阅-d9529e89137-link">流数据订阅</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="async_write-d9529e89183" class="topicref" data-id="async_write" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action async_write-d9529e89183-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/BasicOperations/async_write.html" id="async_write-d9529e89183-link">异步提交数据</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap_advanced_operations-d9529e89367" class="topicref" data-id="chap_advanced_operations" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap_advanced_operations-d9529e89367-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/adv_oper.html" id="chap_advanced_operations-d9529e89367-link">进阶操作</a></div></div></li><li role="treeitem"><div data-tocid="离线安装-python-api-d9529e90227" class="topicref" data-id="离线安装-python-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/python/py_api_inst_offline.html" id="离线安装-python-api-d9529e90227-link">离线安装 Python API</a></div></div></li></ul></li><li role="treeitem"><div data-tocid="c-api-d9529e90273" class="topicref" data-id="c-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/csharp.html" id="c-api-d9529e90273-link">C# API</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="javaapi_landingpage-d9529e90319" class="topicref" data-id="javaapi_landingpage" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action javaapi_landingpage-d9529e90319-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/java_api/newjava.html" id="javaapi_landingpage-d9529e90319-link">Java API</a></div></div></li><li role="treeitem"><div data-tocid="jdbc-连接器-d9529e91745" class="topicref" data-id="jdbc-连接器" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/jdbc.html" id="jdbc-连接器-d9529e91745-link">JDBC 连接器</a></div></div></li><li role="treeitem"><div data-tocid="go-api-d9529e91791" class="topicref" data-id="go-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/go.html" id="go-api-d9529e91791-link">Go API</a></div></div></li><li role="treeitem"><div data-tocid="javascript-api-d9529e91837" class="topicref" data-id="javascript-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/js.html" id="javascript-api-d9529e91837-link">JavaScript API</a></div></div></li><li role="treeitem"><div data-tocid="json-api-d9529e91883" class="topicref" data-id="json-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/json.html" id="json-api-d9529e91883-link">JSON API</a></div></div></li><li role="treeitem"><div data-tocid="r-api-d9529e91929" class="topicref" data-id="r-api" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../../../api/r.html" id="r-api-d9529e91929-link">R API</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9529e91976" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9529e91976-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../plugins/plg_intro.html" id="chap6_plugin-d9529e91976-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9529e94749" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9529e94749-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../third_party.html" id="third_party-d9529e94749-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_tutorials-d9529e94980" class="topicref" data-id="about_tutorials" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_tutorials-d9529e94980-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../tutorials/about_tutorials.html" id="about_tutorials-d9529e94980-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e101769" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e101769-link" class="wh-expand-btn"></span><div class="title"><a href="../../../../rn/server/3_00_1.html" id="tocId-d9529e101769-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">常用方法</h1><div class="- topic/body body"><p class="- topic/p p">本节将介绍 session 中常用的方法。</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="执行脚本"><h2 class="- topic/title title topictitle2" id="ariaid-title2">执行脚本</h2><div class="- topic/body body"><p class="- topic/p p">在 session 中执行脚本可以调用 <strong class="+ topic/ph hi-d/b ph b">session.run</strong> 方法，方法接口如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">run(script, *args, **kwargs)</pre></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title3" id="基础功能参数"><h3 class="- topic/title title topictitle3" id="ariaid-title3">基础功能参数</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">script</strong>：待执行脚本或函数名。</p></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">args</strong>：待执行函数的参数。</p></li></ul></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title4" id="script执行脚本"><h4 class="- topic/title title topictitle4" id="ariaid-title4">script：执行脚本</h4><div class="- topic/body body"><p class="- topic/p p">单独传入 <em class="+ topic/ph hi-d/i ph i">script</em> 且不传入 <em class="+ topic/ph hi-d/i ph i">args</em> 不定长位置参数时，表示执行脚本。</p><p class="- topic/p p">示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"x = 1;"</span>)</pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title5" id="script--args执行函数和传参"><h4 class="- topic/title title topictitle4" id="ariaid-title5">script + args：执行函数和传参</h4><div class="- topic/body body"><p class="- topic/p p">除了运行脚本之外，run 命令可以直接在 DolphinDB 服务器上执行 DolphinDB 内置或用户自定义的函数。对于这种用法，run 方法的第一个参数是 DolphinDB 中的函数名，之后的参数则是该函数的参数。</p><p class="- topic/p p">下面的示例展示 Python 程序通过 run 调用 DolphinDB 内置的 <a class="- topic/xref xref" href="../../../../funcs/a/add.html">add 函数</a>。add 函数有 x 和 y 两个参数。根据参数是否已在 DolphinDB 服务端被赋值，有以下三种调用方式：</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">(1) 所有参数均已在 DolphinDB 服务端被赋值</strong></p><p class="- topic/p p">若变量 x 和 y 已经通过 Python 程序在 DolphinDB 服务端被赋值：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"x = [1,3,5];y = [2,4,6]"</span>)</pre><p class="- topic/p p">那么在 Python 端要对这两个向量做加法运算，只需直接使用 <code class="+ topic/ph pr-d/codeph ph codeph">run(script)</code> 即可：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"add(x,y)"</span>)
array([<span class="hl-number">3</span>, <span class="hl-number">7</span>, <span class="hl-number">11</span>], dtype=int32)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">(2) 仅有一个参数 DolphinDB 服务端被赋值</strong></p><p class="- topic/p p">若仅变量 x 已通过 Python 程序在服务器端被赋值：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"x = [1,3,5];"</span>)</pre><p class="- topic/p p">而参数 y 要在调用 add 函数时一并赋值，需要使用 “部分应用” 方式把参数 x 固化在 add 函数内。具体请参考 <a class="- topic/xref xref" href="../../../../progr/partial_app.html">部分应用</a>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">import</strong> numpy <strong class="hl-keyword">as</strong> np
&gt;&gt;&gt; y = np.array([<span class="hl-number">1</span>,<span class="hl-number">2</span>,<span class="hl-number">3</span>])
&gt;&gt;&gt; result = s.run(<span class="hl-string">"add{x,}"</span>, y)
&gt;&gt;&gt; result
array([<span class="hl-number">2</span>,<span class="hl-number">5</span>,<span class="hl-number">8</span>])
&gt;&gt;&gt; result.dtype
dtype(<span class="hl-string">'int64'</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">(3) 两个参数都待由 Python 客户端赋值</strong></p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">import</strong> numpy <strong class="hl-keyword">as</strong> np
&gt;&gt;&gt; x = np.array([<span class="hl-number">1.5</span>,<span class="hl-number">2.5</span>,<span class="hl-number">7</span>])
&gt;&gt;&gt; y = np.array([<span class="hl-number">8.5</span>,<span class="hl-number">7.5</span>,<span class="hl-number">3</span>])
&gt;&gt;&gt; result = s.run(<span class="hl-string">"add"</span>, x, y)
&gt;&gt;&gt; result
array([<span class="hl-number">10.</span>, <span class="hl-number">10.</span>, <span class="hl-number">10.</span>])
&gt;&gt;&gt; result.dtype
dtype(<span class="hl-string">'float64'</span>)</pre><p class="- topic/p p">通过 run 调用 DolphinDB 的内置函数时，客户端上传参数的数据结构可以是标量 (scalar)，列表 (list)，字典 (dict)，NumPy 的对象，pandas 的 DataFrame 和 Series 等等。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><ul class="- topic/ul ul"><li class="- topic/li li">NumPy array 的维度不能超过 2。</li><li class="- topic/li li">pandas 的 DataFrame 和 Series 若有 index，在上传到 DolphinDB 以后会丢失。如果需要保留 index 列，则需要使用 pandas 的 DataFrame 函数 <code class="+ topic/ph pr-d/codeph ph codeph">reset_index</code>。</li><li class="- topic/li li">如果 DolphinDB 函数的参数是时间或日期类型，Python 客户端上传时，参数应该先转换为 numpy.datetime64 类型。</li></ul></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title6" id="高级功能参数"><h3 class="- topic/title title topictitle3" id="ariaid-title6">高级功能参数</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title7" id="clearmemory"><h4 class="- topic/title title topictitle4" id="ariaid-title7"><em class="+ topic/ph hi-d/i ph i">clearMemory</em></h4><div class="- topic/body body"><p class="- topic/p p">使用 run 方法时，有时为减少内存占用，希望 server 能在执行完毕后自动释放 run 语句中创建的变量。此时可通过指定 session 以及 DBConnectionPool 对象的 run 方法的参数 <code class="+ topic/ph pr-d/codeph ph codeph">clearMemory=True</code> 来实现。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"t=1"</span>, clearMemory = True)
&gt;&gt;&gt; s.run(<span class="hl-string">"t"</span>)</pre><p class="- topic/p p">由于 t 在执行完毕后就被清除了，所以执行 <code class="+ topic/ph pr-d/codeph ph codeph">s.run("t")</code> 会抛出异常:</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>RuntimeError: &lt;Exception&gt; in run: Server response: 'Syntax Error: [line #1] Cannot recognize the token t' script: 't'</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title8" id="pickletabletolist"><h4 class="- topic/title title topictitle4" id="ariaid-title8"><em class="+ topic/ph hi-d/i ph i">pickleTableToList</em></h4><div class="- topic/body body"><p class="- topic/p p">当 session 构造时指定的 <em class="+ topic/ph hi-d/i ph i">protocol</em> 为 PROTOCOL_DDB 或者 PROTOCOL_PICKLE 时，该参数有效。开启该参数后，如果返回值为 Table，则对应 Python 对象为一个 numpy.ndarray 的列表，列表中每一个元素表示原 Table 中的一列。有关数据格式的相关内容，请参考章节<a class="- topic/xref xref" href="../../AdvancedOperations/DataTypeCasting/TypeCasting.html">类型转换</a>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">import</strong> dolphindb.settings <strong class="hl-keyword">as</strong> keys
&gt;&gt;&gt; s = ddb.session(protocol=keys.PROTOCOL_DDB)
&gt;&gt;&gt; s.connect(<span class="hl-string">"localhost"</span>, <span class="hl-number">8848</span>)
True
&gt;&gt;&gt; s.run(<span class="hl-string">"table(1..3 as a)"</span>)
   a
<span class="hl-number">0</span>  <span class="hl-number">1</span>
<span class="hl-number">1</span>  <span class="hl-number">2</span>
<span class="hl-number">2</span>  <span class="hl-number">3</span>
&gt;&gt;&gt; s.run(<span class="hl-string">"table(1..3 as a)"</span>, pickleTableToList=True)
[array([<span class="hl-number">1</span>, <span class="hl-number">2</span>, <span class="hl-number">3</span>], dtype=int32)]</pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title9" id="fetchsize"><h4 class="- topic/title title topictitle4" id="ariaid-title9"><em class="+ topic/ph hi-d/i ph i">fetchSize</em></h4><div class="- topic/body body"><p class="- topic/p p">对于大数据量的表，API 提供了分段读取方法。（仅适用于 DolphinDB 1.20.5 及以上版本，Python API 1.30.0.6 及以上版本）</p><p class="- topic/p p">在 Python 客户端执行以下代码创建一个大数据量的表：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s = ddb.session()
&gt;&gt;&gt; s.connect(<span class="hl-string">"localhost"</span>, <span class="hl-number">8848</span>, <span class="hl-string">"admin"</span>, <span class="hl-string">"123456"</span>)
True
&gt;&gt;&gt; script = <span class="hl-string">"""
... rows=100000;
... testblock=table(take(1,rows) as id,take(`A,rows) as symbol,take(2020.08.01..2020.10.01,rows) as date, rand(50,rows) as size,rand(50.5,rows) as price);
... """</span>
&gt;&gt;&gt; s.run(script)</pre><p class="- topic/p p">在 run 方法中使用参数 <em class="+ topic/ph hi-d/i ph i">fetchSize</em> 指定分段大小 ，会返回一个 BlockReader 对象，可通过 <code class="+ topic/ph pr-d/codeph ph codeph">read()</code> 方法一段段的读取数据。需要注意的是 <em class="+ topic/ph hi-d/i ph i">fetchSize</em> 取值不能小于 8192（记录条数），示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; script1 = <span class="hl-string">"select * from testblock"</span>
&gt;&gt;&gt; block= s.run(script1, fetchSize = <span class="hl-number">8192</span>)
&gt;&gt;&gt; total = <span class="hl-number">0</span>
&gt;&gt;&gt; <strong class="hl-keyword">while</strong> block.hasNext():
...     tem = block.read()
...     total+=len(tem)
... 
&gt;&gt;&gt; total
<span class="hl-number">100000</span></pre><p class="- topic/p p">使用上述分段读取的方法时，若数据未读取完毕，需要调用 <code class="+ topic/ph pr-d/codeph ph codeph">skipAll</code> 方法来放弃读取后续数据，才能继续执行后续代码。否则会导致套接字缓冲区滞留数据，引发后续数据的反序列化失败。示例代码如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; block= s.run(script1, fetchSize = <span class="hl-number">8192</span>)
&gt;&gt;&gt; re = block.read()
&gt;&gt;&gt; block.skipAll()
&gt;&gt;&gt; s.run(<span class="hl-string">"1+1;"</span>) <em class="hl-comment"># 若没有调用 skipAll，执行此代码会抛出异常。</em>
<span class="hl-number">2</span></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title10" id="priority"><h4 class="- topic/title title topictitle4" id="ariaid-title10"><em class="+ topic/ph hi-d/i ph i">priority</em></h4><div class="- topic/body body"><p class="- topic/p p">优先级表示系统赋予作业的优先数，用于决定作业调度的先后顺序。</p><p class="- topic/p p">在 DolphinDB 中，作业按照<a class="- topic/xref xref" href="../../../../tutorials/job_management_tutorial.html">优先级</a>进行调度。优先级的取值范围为 0-9，取值越高则表明优先级越高。对于优先级高的作业，系统会优先给与计算资源。基于作业的优先级，DolphinDB 设计了多级反馈队列来调度作业的执行。具体来说，系统共维护了10个队列，分别对应10个优先级。系统总是将线程资源分配给高优先级的作业；当一个高优先级队列为空时，系统才会处理低优先级队列中的作业；对于处于相同优先级的作业，系统会以 round-robin 的方式将线程资源分配给作业。</p><p class="- topic/p p">Python API 自 1.30.22.2 版本起，session 和 DBConnectionPool 中 run 方法提供 <em class="+ topic/ph hi-d/i ph i">priority</em> 参数，其用于指定任务的优先级，默认值为 4。使用示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"1+1"</span>, priority=<span class="hl-number">9</span>)</pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title11" id="parallelism"><h4 class="- topic/title title topictitle4" id="ariaid-title11"><em class="+ topic/ph hi-d/i ph i">parallelism</em></h4><div class="- topic/body body"><p class="- topic/p p">并行度表示在一个数据节点上，最多同时可以用多少个线程来执行该作业产生的子任务。</p><p class="- topic/p p">Python API 自 1.30.22.2 版本起，session 和 DBConnectionPool 中 run 方法提供 <em class="+ topic/ph hi-d/i ph i">parallelism</em> 参数，其用于指定任务的并行度，默认值为 2。使用示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.run(<span class="hl-string">"1+1"</span>, parallelism=<span class="hl-number">16</span>)</pre><p class="- topic/p p">可参考 <a class="- topic/xref xref" href="../../../../tutorials/job_management_tutorial.html">DolphinDB 关于作业并行度的介绍</a>。</p></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title12" id="disabledecimal"><h4 class="- topic/title title topictitle4" id="ariaid-title12"><em class="+ topic/ph hi-d/i ph i">disableDecimal</em></h4><div class="- topic/body body"><p class="- topic/p p">该参数用于控制是否自动将返回的结果表中的 DECIMAL 类型列转换为 DOUBLE 类型列。如果指定该参数为 True，则执行脚本的结果表中的 DECIMAL 类型列将被转换为 DOUBLE 类型列并返回。</p><p class="- topic/p p">自 Python API 3.0.0.2 版本起，session/Session 和 DBConnectionPool 类中的 <code class="+ topic/ph pr-d/codeph ph codeph">run</code> 方法开始支持该参数。必须配合 2.00.12.3/3.00.1 及以上的 DolphinDB 服务器使用该参数。使用示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>&gt;&gt;&gt; df = s.run("table(decimal32([1.23, 2.3456], 3) as a)", disableDecimal=True)
&gt;&gt;&gt; df.dtypes
a    float64
dtype: object</code></pre></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title13" id="相关方法"><h3 class="- topic/title title topictitle3" id="ariaid-title13">相关方法</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title14" id="runfile"><h4 class="- topic/title title topictitle4" id="ariaid-title14">runFile</h4><div class="- topic/body body"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">runFile</code> 方法可读取文件所有内容作为脚本执行，可以如 run 方法一样传入不定长位置参数和不定长关键字参数。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>： 该文件路径为客户端的本地路径。</p><p class="- topic/p p">使用示例如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">with</strong> open(<span class="hl-string">"./test.dos"</span>, <span class="hl-string">"w+"</span>) <strong class="hl-keyword">as</strong> f:
...     f.write(<span class="hl-string">"""
...         t = table(1..3 as a);
...         t;
...     """</span>)
... 
<span class="hl-number">47</span>
&gt;&gt;&gt; s.runFile(<span class="hl-string">"./test.dos"</span>)
    a
<span class="hl-number">0</span>   <span class="hl-number">1</span>
<span class="hl-number">1</span>   <span class="hl-number">2</span>
<span class="hl-number">2</span>   <span class="hl-number">3</span></pre></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title15" id="上传变量"><h2 class="- topic/title title topictitle2" id="ariaid-title15">上传变量</h2><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">upload(nameObjectDict)</pre><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">upload</code> 方法用于上传 Python 对象到服务端，接收一个 dict 对象，其中字典的键表示待上传变量的变量名，字典的值则表示待上传的变量，可以是 int, str, pd.DataFrame, np.ndarray, dict 和 set 等。上传成功则返回上传对象在服务端的内存地址。关于如何上传各类型的 Python 对象，以及对应的服务端数据类型，请参考<a class="- topic/xref xref" href="../../AdvancedOperations/DataTypeCasting/TypeCasting.html">数据类型</a>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.upload({<span class="hl-string">'a'</span>: <span class="hl-number">8</span>, <span class="hl-string">'b'</span>: <span class="hl-string">"abc"</span>, <span class="hl-string">'c'</span>: {<span class="hl-string">'a'</span>:<span class="hl-number">1</span>, <span class="hl-string">'b'</span>:<span class="hl-number">2</span>}})
[<span class="hl-number">59763200</span>, <span class="hl-number">60161968</span>, <span class="hl-number">54696752</span>]
&gt;&gt;&gt; s.run(<span class="hl-string">"a"</span>)
<span class="hl-number">8</span>
&gt;&gt;&gt; s.run(<span class="hl-string">"b"</span>)
abc
&gt;&gt;&gt; s.run(<span class="hl-string">"c"</span>)
{<span class="hl-string">'a'</span>: <span class="hl-number">1</span>, <span class="hl-string">'b'</span>: <span class="hl-number">2</span>}</pre></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title16" id="加载数据"><h2 class="- topic/title title topictitle2" id="ariaid-title16">加载数据</h2><div class="- topic/body body"><p class="- topic/p p">本节将用到 <a class="- topic/xref xref" href="../../data/example.csv">example.csv</a> 文件。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title17" id="table"><h3 class="- topic/title title topictitle3" id="ariaid-title17">table</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">table(dbPath=None, data=None, tableAliasName=None, inMem=False, partitions=None)</pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">data</strong> ：字符串或字典、DataFrame。如果 <em class="+ topic/ph hi-d/i ph i">data</em> 为字符串，表示服务端数据表表名；如果 <em class="+ topic/ph hi-d/i ph i">data</em> 为字典或 DataFrame，则表示将本地数据作为临时表上传到服务器。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">dbPath</strong> ：字符串，表示待加载数据表所在的数据库地址。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">tableAliasName</strong> ：用于指定待加载表的别名。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">inMem</strong> ：是否将数据从服务器磁盘加载到服务器内存中。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">partitions</strong> ：表示要加载的分区。</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>： table 函数在 <em class="+ topic/ph hi-d/i ph i">data</em> 为字符串时，实际是封装了 DolphinDB 的 loadTable 函数，从指定数据库中加载对应表，并获取其句柄。关于 <em class="+ topic/ph hi-d/i ph i">inMem</em> 和 <em class="+ topic/ph hi-d/i ph i">partitions</em> 参数的详细含义请参考<a class="- topic/xref xref" href="../../../../funcs/l/loadTable.html">loadTable</a>。</p><p class="- topic/p p">对数据表句柄的操作以及面向对象的 SQL 查询，请参考章节<a class="- topic/xref xref" href="../../AdvancedOperations/ObjectOrientedOperationsOnDdbOBjects/Table.html">面向对象操作</a>。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title18" id="loadtable"><h3 class="- topic/title title topictitle3" id="ariaid-title18">loadTable</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">loadTable(tableName, dbPath=None, partitions=None, memoryMode=False)</pre><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">loadTable</code> 方法的使用与 <code class="+ topic/ph pr-d/codeph ph codeph">table</code> 方法相似，但该方法仅用于加载服务器端指定表，获取其句柄。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title19" id="loadtablebysql"><h3 class="- topic/title title topictitle3" id="ariaid-title19">loadTableBySQL</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">loadTableBySQL(tableName, dbPath, sql)</pre><p class="- topic/p p">该方法封装 DolphinDB <code class="+ topic/ph pr-d/codeph ph codeph">loadTableBySQL</code> 函数，将满足 SQL 查询中筛选条件的记录加载为内存中的分区表，返回内存表句柄给 API。函数详细说明请参考 <a class="- topic/xref xref" href="../../../../funcs/l/loadTableBySQL.html">loadTableBySQL</a>。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">tableName/dbPath</strong> ：根据 <em class="+ topic/ph hi-d/i ph i">tableName</em> 和 <em class="+ topic/ph hi-d/i ph i">dbPath</em> 加载 <em class="+ topic/ph hi-d/i ph i">sql</em> 中使用到的分区表。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">sql</strong> ：SQL 查询的元代码。它可以用 WHERE 子句来过滤分区或记录行，也可以用 SELECT 语句选择包括计算列在内的列，但不能包含 TOP 子句、GROUP BY 子句、 ORDER BY 子句、CONTEXT BY 子句和 LIMIT 子句。</li></ul></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title20" id="loadtext"><h3 class="- topic/title title topictitle3" id="ariaid-title20">loadText</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">loadText(remoteFilePath, delimiter=<span class="hl-string">","</span>)</pre><p class="- topic/p p">可使用 <code class="+ topic/ph pr-d/codeph ph codeph">loadText</code> 方法把文本文件导入到服务端的内存表中，文本文件必须和服务端在同一个服务器。该方法会在 Python 中返回一个 DolphinDB 内存表句柄。可使用 <code class="+ topic/ph pr-d/codeph ph codeph">toDF</code> 方法把 Python 中的内存表句柄对象 Table 转换为 pandas.DataFrame。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>： 使用 loadText 方法时，载入的内存表数据量必须小于 DolphinDB 服务器可用内存。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; WORK_DIR = <span class="hl-string">"C:/DolphinDB/Data"</span>
&gt;&gt;&gt; trade = s.loadText(WORK_DIR+<span class="hl-string">"/example.csv"</span>)</pre><p class="- topic/p p">将返回的 DolphinDB 表对象转化为 pandas DataFrame。表的数据传输发生在此步骤。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; trade.toDF()
      TICKER        date       VOL        PRC        BID       ASK
<span class="hl-number">0</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">16</span>   <span class="hl-number">6029815</span>   <span class="hl-number">23.50000</span>   <span class="hl-number">23.50000</span>   <span class="hl-number">23.6250</span>
<span class="hl-number">1</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">17</span>   <span class="hl-number">1232226</span>   <span class="hl-number">20.75000</span>   <span class="hl-number">20.50000</span>   <span class="hl-number">21.0000</span>
<span class="hl-number">2</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">20</span>    <span class="hl-number">512070</span>   <span class="hl-number">20.50000</span>   <span class="hl-number">20.50000</span>   <span class="hl-number">20.6250</span>
<span class="hl-number">3</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">21</span>    <span class="hl-number">456357</span>   <span class="hl-number">19.62500</span>   <span class="hl-number">19.62500</span>   <span class="hl-number">19.7500</span>
<span class="hl-number">4</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">22</span>   <span class="hl-number">1577414</span>   <span class="hl-number">17.12500</span>   <span class="hl-number">17.12500</span>   <span class="hl-number">17.2500</span>
<span class="hl-number">5</span>       AMZN  <span class="hl-number">1997.05</span>.<span class="hl-number">23</span>    <span class="hl-number">983855</span>   <span class="hl-number">16.75000</span>   <span class="hl-number">16.62500</span>   <span class="hl-number">16.7500</span>
...
<span class="hl-number">13134</span>   NFLX  <span class="hl-number">2016.12</span>.<span class="hl-number">29</span>   <span class="hl-number">3444729</span>  <span class="hl-number">125.33000</span>  <span class="hl-number">125.31000</span>  <span class="hl-number">125.3300</span>
<span class="hl-number">13135</span>   NFLX  <span class="hl-number">2016.12</span>.<span class="hl-number">30</span>   <span class="hl-number">4455012</span>  <span class="hl-number">123.80000</span>  <span class="hl-number">123.80000</span>  <span class="hl-number">123.8300</span></pre><p class="- topic/p p">loadText 函数导入文件时的默认分隔符是','。用户也可指定其他符号作为分隔符。例如，导入'\t'分割的表格形式文本文件：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; t1 = s.loadText(WORK_DIR+<span class="hl-string">"/t1.tsv"</span>, <span class="hl-string">'\t'</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong> ：<code class="+ topic/ph pr-d/codeph ph codeph">loadText</code> / <code class="+ topic/ph pr-d/codeph ph codeph">ploadText</code> / <code class="+ topic/ph pr-d/codeph ph codeph">loadTextEx</code> 都是将文件加载到服务端，并非加载本地文件。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title21" id="ploadtext"><h3 class="- topic/title title topictitle3" id="ariaid-title21">ploadText</h3><div class="- topic/body body"><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">ploadText</code> 函数可以并行加文本文件到内存分区表中。其加载速度比 loadText 函数快。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; trade = s.ploadText(WORK_DIR+<span class="hl-string">"/example.csv"</span>)
&gt;&gt;&gt; trade.rows
<span class="hl-number">13136</span></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title22" id="loadtextex"><h3 class="- topic/title title topictitle3" id="ariaid-title22">loadTextEx</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">loadTextEx(dbPath, tableName,  partitionColumns=None, remoteFilePath=None, delimiter=<span class="hl-string">","</span>, sortColumns=None)</pre><p class="- topic/p p">可使用函数 <code class="+ topic/ph pr-d/codeph ph codeph">loadTextEx</code> 把文本文件导入到分区数据库的分区表中。如果分区表不存在，函数会自动生成该分区表并把数据追加到表中。如果分区表已经存在，则直接把数据追加到分区表中。</p><p class="- topic/p p">函数 <code class="+ topic/ph pr-d/codeph ph codeph">loadTextEx</code> 的各个参数如下：</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">dbPath</strong> ：数据库路径。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">tableName</strong> ：分区表的名称。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">partitionColumns</strong> ：分区列。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">remoteFilePath</strong> ：文本文件在 DolphinDB 服务器上的绝对路径。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">delimiter</strong> ：文本文件的分隔符（默认分隔符是逗号）。</li><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">sortColumns</strong>：字符串标量或向量，用于指定表的排序列，写入的数据将按 <em class="+ topic/ph hi-d/i ph i">sortColumns</em> 进行排序。注意，该参数仅适用于 TSDB 引擎。</li></ul><p class="- topic/p p">下面的例子使用函数 <code class="+ topic/ph pr-d/codeph ph codeph">loadTextEx</code> 创建了分区表 trade，并把 <a class="- topic/xref xref" href="../../data/example.csv">example.csv</a> 中的数据加载到表中。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">import</strong> dolphindb.settings <strong class="hl-keyword">as</strong> keys
&gt;&gt;&gt; <strong class="hl-keyword">if</strong> s.existsDatabase(<span class="hl-string">"dfs://valuedb"</span>):
...     s.dropDatabase(<span class="hl-string">"dfs://valuedb"</span>)
...
&gt;&gt;&gt; s.database(dbName=<span class="hl-string">'mydb'</span>, partitionType=keys.VALUE, partitions=[<span class="hl-string">"AMZN"</span>,<span class="hl-string">"NFLX"</span>, <span class="hl-string">"NVDA"</span>], dbPath=<span class="hl-string">"dfs://valuedb"</span>)
&gt;&gt;&gt; trade = s.loadTextEx(dbPath=<span class="hl-string">"mydb"</span>, tableName=<span class="hl-string">'trade'</span>,partitionColumns=[<span class="hl-string">"TICKER"</span>], remoteFilePath=WORK_DIR + <span class="hl-string">"/example.csv"</span>)
&gt;&gt;&gt; trade.toDF()
      TICKER       date       VOL      PRC      BID      ASK
<span class="hl-number">0</span>       AMZN <span class="hl-number">1997</span>-<span class="hl-number">05</span>-<span class="hl-number">15</span>   <span class="hl-number">6029815</span>   <span class="hl-number">23.500</span>   <span class="hl-number">23.500</span>   <span class="hl-number">23.625</span>
<span class="hl-number">1</span>       AMZN <span class="hl-number">1997</span>-<span class="hl-number">05</span>-<span class="hl-number">16</span>   <span class="hl-number">1232226</span>   <span class="hl-number">20.750</span>   <span class="hl-number">20.500</span>   <span class="hl-number">21.000</span>
<span class="hl-number">2</span>       AMZN <span class="hl-number">1997</span>-<span class="hl-number">05</span>-<span class="hl-number">19</span>    <span class="hl-number">512070</span>   <span class="hl-number">20.500</span>   <span class="hl-number">20.500</span>   <span class="hl-number">20.625</span>
<span class="hl-number">3</span>       AMZN <span class="hl-number">1997</span>-<span class="hl-number">05</span>-<span class="hl-number">20</span>    <span class="hl-number">456357</span>   <span class="hl-number">19.625</span>   <span class="hl-number">19.625</span>   <span class="hl-number">19.750</span>
<span class="hl-number">4</span>       AMZN <span class="hl-number">1997</span>-<span class="hl-number">05</span>-<span class="hl-number">21</span>   <span class="hl-number">1577414</span>   <span class="hl-number">17.125</span>   <span class="hl-number">17.125</span>   <span class="hl-number">17.250</span>
...      ...        ...       ...      ...      ...      ...
<span class="hl-number">13131</span>   NVDA <span class="hl-number">2016</span>-<span class="hl-number">12</span>-<span class="hl-number">23</span>  <span class="hl-number">16193331</span>  <span class="hl-number">109.780</span>  <span class="hl-number">109.770</span>  <span class="hl-number">109.790</span>
<span class="hl-number">13132</span>   NVDA <span class="hl-number">2016</span>-<span class="hl-number">12</span>-<span class="hl-number">27</span>  <span class="hl-number">29857132</span>  <span class="hl-number">117.320</span>  <span class="hl-number">117.310</span>  <span class="hl-number">117.320</span>
<span class="hl-number">13133</span>   NVDA <span class="hl-number">2016</span>-<span class="hl-number">12</span>-<span class="hl-number">28</span>  <span class="hl-number">57384116</span>  <span class="hl-number">109.250</span>  <span class="hl-number">109.250</span>  <span class="hl-number">109.290</span>
<span class="hl-number">13134</span>   NVDA <span class="hl-number">2016</span>-<span class="hl-number">12</span>-<span class="hl-number">29</span>  <span class="hl-number">54384676</span>  <span class="hl-number">111.430</span>  <span class="hl-number">111.260</span>  <span class="hl-number">111.420</span>
<span class="hl-number">13135</span>   NVDA <span class="hl-number">2016</span>-<span class="hl-number">12</span>-<span class="hl-number">30</span>  <span class="hl-number">30323259</span>  <span class="hl-number">106.740</span>  <span class="hl-number">106.730</span>  <span class="hl-number">106.750</span>

[<span class="hl-number">13136</span> rows x <span class="hl-number">6</span> columns]</pre><p class="- topic/p p">返回表中的行数：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; trade.rows
<span class="hl-number">13136</span></pre><p class="- topic/p p">返回表中的列数：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; trade.cols
<span class="hl-number">6</span></pre><p class="- topic/p p">展示表的结构：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; trade.schema
     name typeString  typeInt comment
<span class="hl-number">0</span>  TICKER     SYMBOL       <span class="hl-number">17</span>        
<span class="hl-number">1</span>    date       DATE        <span class="hl-number">6</span>        
<span class="hl-number">2</span>     VOL        INT        <span class="hl-number">4</span>        
<span class="hl-number">3</span>     PRC     DOUBLE       <span class="hl-number">16</span>        
<span class="hl-number">4</span>     BID     DOUBLE       <span class="hl-number">16</span>        
<span class="hl-number">5</span>     ASK     DOUBLE       <span class="hl-number">16</span></pre></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title23" id="数据库表管理"><h2 class="- topic/title title topictitle2" id="ariaid-title23">数据库表管理</h2><div class="- topic/body body"><p class="- topic/p p">特别的，Python API 封装了部分服务端常用数据库表管理函数作为 session 的方法，用户可以调用这些方法对数据库表进行管理。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title24" id="database"><h3 class="- topic/title title topictitle3" id="ariaid-title24">database</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">database(dbName=None, partitionType=None, partitions=None, dbPath=None, engine=None, atomic=None, chunkGranularity=None)</pre><p class="- topic/p p">如果需要持久保存导入数据，或者需要导入的文件超过可用内存，可将数据导入 DFS 分区数据库保存。下面将使用一个例子来介绍如何创建分区数据库。</p><p class="- topic/p p">本节例子中会使用数据库 valuedb。首先检查该数据库是否存在，如果存在，将其删除：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">if</strong> s.existsDatabase(<span class="hl-string">"dfs://valuedb"</span>):
...     s.dropDatabase(<span class="hl-string">"dfs://valuedb"</span>)
...</pre><p class="- topic/p p">使用 database 方法创建值分区（VALUE）的数据库，使用股票代码作为分区字段。参数 <em class="+ topic/ph hi-d/i ph i">partitions</em> 表示分区方案。下例中，先导入 DolphinDB 的关键字，再创建数据库。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; <strong class="hl-keyword">import</strong> dolphindb.settings <strong class="hl-keyword">as</strong> keys
&gt;&gt;&gt; s.database(dbName=<span class="hl-string">'mydb'</span>, partitionType=keys.VALUE, partitions=[<span class="hl-string">'AMZN'</span>,<span class="hl-string">'NFLX'</span>, <span class="hl-string">'NVDA'</span>], dbPath=<span class="hl-string">'dfs://valuedb'</span>)</pre><p class="- topic/p p">上述语句等同于在DolphinDB中执行脚本 <code class="+ topic/ph pr-d/codeph ph codeph">db=database('dfs://valuedb', VALUE, ['AMZN','NFLX','NVDA'])</code>。</p><p class="- topic/p p">除了值分区（VALUE），DolphinDB 还支持哈希分区（HASH）、范围分区（RANGE）、列表分区（LIST）与组合分区（COMPO），具体请参见 <a class="- topic/xref xref" href="../../../../funcs/d/database.html">database</a>。</p><p class="- topic/p p">创建了分区数据库后，不可更改分区类型，一般也不可更改分区方案，但是创建值分区或范围分区（或者复合分区中的值分区或范围分区）后，DolphinDB 脚本中可以分别使用 addValuePartitions 与 addRangePartitions 函数添加分区。</p><p class="- topic/p p">database 方法的详细参数以及使用方法，请参考章节<a class="- topic/xref xref" href="../../AdvancedOperations/ObjectOrientedOperationsOnDdbOBjects/Database.html">面向对象操作</a>。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title25" id="existsdatabase"><h3 class="- topic/title title topictitle3" id="ariaid-title25">existsDatabase</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.existsDatabase(dbUrl=<span class="hl-string">"dfs://testDB"</span>)
False</pre><p class="- topic/p p">该函数用于判断 DolphinDB 服务端是否存在 dbUrl 对应的数据库，函数使用请参考 <a class="- topic/xref xref" href="../../../../funcs/e/existsDatabase.html">existsDatabase</a>。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title26" id="existstable"><h3 class="- topic/title title topictitle3" id="ariaid-title26">existsTable</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.existsTable(dbUrl=<span class="hl-string">"dfs://valuedb"</span>, tableName=<span class="hl-string">"trade"</span>)
True</pre><p class="- topic/p p">检查指定表是否存在于指定数据库中，函数使用请参考 <a class="- topic/xref xref" href="../../../../funcs/e/existsTable.html">existsTable</a>。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title27" id="dropdatabase"><h3 class="- topic/title title topictitle3" id="ariaid-title27">dropDatabase</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.dropDatabase(dbPath=<span class="hl-string">"dfs://valuedb"</span>)</pre><p class="- topic/p p">删除指定数据库的所有物理文件，函数使用请参考 <a class="- topic/xref xref" href="../../../../funcs/d/dropDatabase.html">-dropDatabase</a>。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title28" id="droppartition"><h3 class="- topic/title title topictitle3" id="ariaid-title28">dropPartition</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.dropPartition(dbPath=<span class="hl-string">"dfs://valuedb"</span>, partitionPaths=<span class="hl-string">"AMZN"</span>, tableName=<span class="hl-string">"trade"</span>)</pre><p class="- topic/p p">删除数据库中指定分区的数据。如果指定了 <em class="+ topic/ph hi-d/i ph i">tableName</em>，则删除指定表中符合指定条件的分区数据。否则，删除指定数据库所有表中符合指定条件的分区数据。函数使用请参考 <a class="- topic/xref xref" href="../../../../funcs/d/dropPartition.html">dropPartition</a>。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：如果创建数据库时指定分区粒度为 DATABASE，则可以不填 <em class="+ topic/ph hi-d/i ph i">tableName</em>，否则必须指定表名。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title29" id="droptable"><h3 class="- topic/title title topictitle3" id="ariaid-title29">dropTable</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.dropTable(dbPath=<span class="hl-string">"dfs://valuedb"</span>, tableName=<span class="hl-string">"trade"</span>)</pre><p class="- topic/p p">删除指定数据库中的数据表，函数使用请参考 <a class="- topic/xref xref" href="../../../../funcs/d/dropTable.html">dropTable</a>。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title30" id="其他方法"><h2 class="- topic/title title topictitle2" id="ariaid-title30">其他方法</h2><div class="- topic/body body"><p class="- topic/p p">除了上述方法，session 中还提供封装了一些其他常用的函数。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title31" id="undefundefall"><h3 class="- topic/title title topictitle3" id="ariaid-title31">undef/undefAll</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.undef(<span class="hl-string">"t1"</span>, <span class="hl-string">"VAR"</span>)
&gt;&gt;&gt; s.undefAll()</pre><p class="- topic/p p">undef 方法释放 session 中的指定对象；undefAll 方法释放 session 中的全部对象。undef 支持的对象类型包括："VAR"(变量)、"SHARED"(共享变量) 与 "DEF"(函数定义)。默认类型为变量 "VAR"。"SHARED" 指内存中跨 session 的共享变量，例如流数据表。</p><p class="- topic/p p">假设 session 中有一个 DolphinDB 的表对象 t1，可以通过 <code class="+ topic/ph pr-d/codeph ph codeph">undef("t1","VAR")</code> 将该表释放掉。释放后，并不一定能够看到内存在服务端马上释放。这与 DolphinDB 的内存管理机制有关。DolphinDB 从操作系统申请的内存，释放后不会立即还给操作系统，因为这些释放的内存在 DolphinDB 中可以立即使用。申请内存首先从 DolphinDB 内部的池中申请内存，不足时才会向操作系统去申请。配置文件 (dolphindb.cfg) 中参数 <em class="+ topic/ph hi-d/i ph i">maxMemSize</em> 设置的内存上限会尽量保证。譬如设置为 8GB，那么 DolphinDB 会尽可能利用 8GB 内存。所以若用户需要反复 undef 内存中的一个变量以释放内存，为后续 server 的运行腾出更多内存空间，则需要将 <em class="+ topic/ph hi-d/i ph i">maxMemSize</em> 调整到一个合理的数值（不超过内存上限），否则当前内存没有释放，而后面需要的内存超过了系统的最大内存，DolphinDB 的进程就有可能被操作系统杀掉或者出现 <code class="+ topic/ph pr-d/codeph ph codeph">out of memory</code> 的错误。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title32" id="clearallcache"><h3 class="- topic/title title topictitle3" id="ariaid-title32">clearAllCache</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; s.clearAllCache()
&gt;&gt;&gt; s.clearAllCache(dfs=True)</pre><p class="- topic/p p"><code class="+ topic/ph pr-d/codeph ph codeph">clearAllCache</code> 方法会调用服务端同名方法来清理服务端缓存，如果 <em class="+ topic/ph hi-d/i ph i">dfs</em> 参数为 True，将会在所有节点上清理缓存；否则只会在连接节点上清理。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title33" id="settimeout"><h3 class="- topic/title title topictitle3" id="ariaid-title33">setTimeout</h3><div class="- topic/body body"><p class="- topic/p p">与 session 建立连接时使用的参数 <em class="+ topic/ph hi-d/i ph i">keepAliveTime</em> 不同，<code class="+ topic/ph pr-d/codeph ph codeph">setTimeout</code> 是 session 的类方法，用于设置 TCP 连接 TCP_USER_TIMEOUT 选项。可以设置用户允许 TCP 连接在没有端到端连接的情况下的生存时间（单位 秒/s）。参考 <a class="- topic/xref xref" href="https://man7.org/linux/man-pages/man7/tcp.7.html" target="_blank" rel="external noopener">Linux Socket options</a>。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock python">&gt;&gt;&gt; ddb.session.setTimeout(<span class="hl-number">3600</span>)</pre><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>： 本方法仅在 Linux 系统生效。默认时间为 30 秒。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title34" id="流订阅相关"><h3 class="- topic/title title topictitle3" id="ariaid-title34">流订阅相关</h3><div class="- topic/body body"><p class="- topic/p p">dolphindb 提供流数据订阅接口，可以从服务器订阅流数据表，并获取其数据，详细介绍请参考章节<a class="- topic/xref xref" href="../Subscription/Subscription.html">流订阅基础</a>和<a class="- topic/xref xref" href="../../AdvancedOperations/SubscriptionOptions/SubscriptionOptions.html">流订阅（进阶）</a>。</p><p class="- topic/p p">相关方法：enableStreaming / subscribe / unsubscribe / getSubscriptionTopics</p></div></article></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC" data-tocid="执行脚本">执行脚本</a><ul><li class="topic-item"><a href="#%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD%E5%8F%82%E6%95%B0" data-tocid="基础功能参数">基础功能参数</a><ul><li class="topic-item"><a href="#script%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC" data-tocid="script执行脚本">script：执行脚本</a></li><li class="topic-item"><a href="#script--args%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%E5%92%8C%E4%BC%A0%E5%8F%82" data-tocid="script--args执行函数和传参">script + args：执行函数和传参</a></li></ul></li><li class="topic-item"><a href="#%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD%E5%8F%82%E6%95%B0" data-tocid="高级功能参数">高级功能参数</a><ul><li class="topic-item"><a href="#clearmemory" data-tocid="clearmemory"><em class="+ topic/ph hi-d/i ph i">clearMemory</em></a></li><li class="topic-item"><a href="#pickletabletolist" data-tocid="pickletabletolist"><em class="+ topic/ph hi-d/i ph i">pickleTableToList</em></a></li><li class="topic-item"><a href="#fetchsize" data-tocid="fetchsize"><em class="+ topic/ph hi-d/i ph i">fetchSize</em></a></li><li class="topic-item"><a href="#priority" data-tocid="priority"><em class="+ topic/ph hi-d/i ph i">priority</em></a></li><li class="topic-item"><a href="#parallelism" data-tocid="parallelism"><em class="+ topic/ph hi-d/i ph i">parallelism</em></a></li><li class="topic-item"><a href="#disabledecimal" data-tocid="disabledecimal"><em class="+ topic/ph hi-d/i ph i">disableDecimal</em></a></li></ul></li><li class="topic-item"><a href="#%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95" data-tocid="相关方法">相关方法</a><ul><li class="topic-item"><a href="#runfile" data-tocid="runfile">runFile</a></li></ul></li></ul></li><li class="topic-item"><a href="#%E4%B8%8A%E4%BC%A0%E5%8F%98%E9%87%8F" data-tocid="上传变量">上传变量</a></li><li class="topic-item"><a href="#%E5%8A%A0%E8%BD%BD%E6%95%B0%E6%8D%AE" data-tocid="加载数据">加载数据</a><ul><li class="topic-item"><a href="#table" data-tocid="table">table</a></li><li class="topic-item"><a href="#loadtable" data-tocid="loadtable">loadTable</a></li><li class="topic-item"><a href="#loadtablebysql" data-tocid="loadtablebysql">loadTableBySQL</a></li><li class="topic-item"><a href="#loadtext" data-tocid="loadtext">loadText</a></li><li class="topic-item"><a href="#ploadtext" data-tocid="ploadtext">ploadText</a></li><li class="topic-item"><a href="#loadtextex" data-tocid="loadtextex">loadTextEx</a></li></ul></li><li class="topic-item"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%AE%A1%E7%90%86" data-tocid="数据库表管理">数据库表管理</a><ul><li class="topic-item"><a href="#database" data-tocid="database">database</a></li><li class="topic-item"><a href="#existsdatabase" data-tocid="existsdatabase">existsDatabase</a></li><li class="topic-item"><a href="#existstable" data-tocid="existstable">existsTable</a></li><li class="topic-item"><a href="#dropdatabase" data-tocid="dropdatabase">dropDatabase</a></li><li class="topic-item"><a href="#droppartition" data-tocid="droppartition">dropPartition</a></li><li class="topic-item"><a href="#droptable" data-tocid="droptable">dropTable</a></li></ul></li><li class="topic-item"><a href="#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95" data-tocid="其他方法">其他方法</a><ul><li class="topic-item"><a href="#undefundefall" data-tocid="undefundefall">undef/undefAll</a></li><li class="topic-item"><a href="#clearallcache" data-tocid="clearallcache">clearAllCache</a></li><li class="topic-item"><a href="#settimeout" data-tocid="settimeout">setTimeout</a></li><li class="topic-item"><a href="#%E6%B5%81%E8%AE%A2%E9%98%85%E7%9B%B8%E5%85%B3" data-tocid="流订阅相关">流订阅相关</a></li></ul></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2024 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>