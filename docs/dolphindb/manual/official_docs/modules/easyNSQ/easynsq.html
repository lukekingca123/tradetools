<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh" data-whc_version="26.0">
    <head><link rel="shortcut icon" href="../../favicon.ico"/><link rel="icon" href="../../favicon.ico"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流数据表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 ..."/><meta name="DC.rights.owner" content="(C) 版权 2024"/><meta name="copyright" content="(C) 版权 2024"/><meta name="generator" content="DITA-OT"/><meta name="DC.type" content="topic"/><meta name="DC.coverage" content=""/><meta name="DC.relation" content="../../stream/nsq.html"/><meta name="prodname" content="DolphinDB"/><meta name="brand" content="DolphinDB"/><meta name="DC.creator" content="DolphinDB"/><meta name="DC.publisher" content="DDB N/A DDB 200"/><meta name="DC.format" content="HTML5"/><meta name="DC.identifier" content="easynsq-实时行情数据接入功能模块"/><title>easyNSQ 实时行情数据接入功能模块</title><!--  Generated with Oxygen version 26.0, build number 2024012323.  --><meta name="wh-path2root" content="../../"/><meta name="wh-toc-id" content="&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;&lt;?workdir /tmp/temp20240704100525325/modules/easyNSQ?&gt;&lt;?workdir-uri file:/tmp/temp20240704100525325/modules/easyNSQ/?&gt;&lt;?path2project ../../?&gt;&lt;?path2project-uri ../../?&gt;&lt;?path2rootmap-uri ../../?&gt;&lt;topic xmlns:dita-ot=&#34;http://dita-ot.sourceforge.net/ns/201007/dita-ot&#34; xmlns:ditaarch=&#34;http://dita.oasis-open.org/architecture/2005/&#34; class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;easynsq-实时行情数据接入功能模块&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 实时行情数据接入功能模块&lt;/title&gt;&lt;prolog class=&#34;- topic/prolog &#34;&gt;&lt;author class=&#34;- topic/author &#34; xtrc=&#34;author:1;12:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/author&gt;&lt;publisherinformation class=&#34;- topic/publisher bookmap/publisherinformation &#34; xtrc=&#34;publisherinformation:1;14:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:1;15:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;printlocation class=&#34;- topic/data bookmap/printlocation &#34; xtrc=&#34;printlocation:1;16:28&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;N/A&lt;/printlocation&gt; &lt;published class=&#34;- topic/data bookmap/published &#34; xtrc=&#34;published:1;17:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;person class=&#34;- topic/data bookmap/person &#34; xtrc=&#34;person:2;18:25&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DDB&lt;/person&gt; &lt;publishtype class=&#34;- topic/data bookmap/publishtype &#34; value=&#34;HTML&#34; xtrc=&#34;publishtype:1;19:44&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;revisionid class=&#34;- topic/ph bookmap/revisionid &#34; xtrc=&#34;revisionid:1;20:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;200&lt;/revisionid&gt; &lt;summary class=&#34;- topic/ph bookmap/summary &#34; xtrc=&#34;summary:1;22:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:1;23:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/published&gt; &lt;data class=&#34;- topic/data &#34; xtrc=&#34;data:2;25:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt; &lt;/publisherinformation&gt;&lt;metadata class=&#34;- topic/metadata &#34;&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:2;39:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;audience class=&#34;- topic/audience &#34; xtrc=&#34;audience:1;28:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;category class=&#34;- topic/category &#34; xtrc=&#34;category:1;29:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;/&gt;&lt;prodinfo class=&#34;- topic/prodinfo &#34; xtrc=&#34;prodinfo:1;34:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt; &lt;prodname class=&#34;- topic/prodname &#34; xtrc=&#34;prodname:1;35:27&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/prodname&gt; &lt;brand class=&#34;- topic/brand &#34; xtrc=&#34;brand:1;36:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/ddb_doc_centre.ditamap&#34;&gt;DolphinDB&lt;/brand&gt; &lt;/prodinfo&gt;&lt;/metadata&gt;&lt;/prolog&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:1;1:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:1;3:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流数据表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 easyNSQ 模块），主要用于 NSQ 实时行情数据的自动化接收和存储。目前已经支持的数据源包括上海和深圳市场的：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:1;5:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货逐笔委托行情主推回调（OnRtnSecuTransactionEntrustData-&amp;gt;orders）&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:2;6:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货逐笔成交行情主推回调（OnRtnSecuTransactionTradeData-&amp;gt;trade）&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:3;7:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;现货深度行情主推回调（OnRtnSecuDepthMarketData-&amp;gt;snapshot）&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:2;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:1;9:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：DolphinDB 仅提供对接 HSNsqApi 的 NSQ 插件，数据源和接入服务可咨询数据服务商或证券公司。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:3;11:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;NSQ 插件目前支持版本：release200, release130。本模块基于 DolphinDB 2.00.9.4 开发，请使用 2.00.9.4 及以上版本的 DolphinDB。&lt;/p&gt;&lt;/body&gt;&lt;related-links class=&#34;- topic/related-links &#34;&gt;&lt;linkpool class=&#34;- topic/linkpool &#34; xtrc=&#34;topicref:37;66:80&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_stream.ditamap&#34;&gt;&lt;link class=&#34;- topic/link &#34; format=&#34;dita&#34; href=&#34;../../stream/nsq.dita&#34; mapclass=&#34;- map/topicref &#34; role=&#34;parent&#34; scope=&#34;local&#34; type=&#34;topic&#34; xtrc=&#34;topicref:35;64:68&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/chap_stream.ditamap&#34;&gt;&lt;?ditaot usertext?&gt;&lt;linktext class=&#34;- topic/linktext &#34;&gt;&lt;?ditaot gentext?&gt;行情数据插件：NSQ&lt;/linktext&gt;&lt;/link&gt;&lt;/linkpool&gt;&lt;/related-links&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;1-安装说明&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:2;14:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:2;14:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1. 安装说明&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:2;14:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:4;16:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用 DolphinDBModules::easyNSQ 模块前，请确保在 DolphinDB 服务器上正确安装和加载了 NSQ 插件和 DolphinDBModules::easyNSQ 模块文件。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:5;18:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:2;18:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：对于之前从未使用过 DolphinDB 插件和模块功能的读者，推荐在阅读以下章节的同时阅读 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq&#34; scope=&#34;external&#34; xtrc=&#34;xref:1;18:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;NSQ 插件官方文档&lt;/xref&gt;以及 &lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;md&#34; format=&#34;dita&#34; href=&#34;../../tutorials/module_tutorial.md&#34; xtrc=&#34;xref:2;18:137&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; type=&#34;topic&#34;&gt;&lt;?ditaot usertext?&gt;DolphinDB 模块教程&lt;/xref&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:6;20:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块依赖于 NSQ 插件，请确保先加载 NSQ 插件，再加载 easyNSQ 模块。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;11-安装-nsq-插件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:3;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:3;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.1. 安装 NSQ 插件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:3;22:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:7;24:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以根据正在使用 DolphinDB server 版本和操作系统，从 github 或 gitee 上的 DolphinDB 官方代码仓库 下载已经编译好的 NSQ 插件，例如 64位 Linux 操作系统上与 DolphinDB 2.00.9.4适配的 NSQ 插件可以从 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq/bin/linux&#34; scope=&#34;external&#34; xtrc=&#34;xref:3;24:143&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;release 200.9分支&lt;/xref&gt;下载。如果有手动编译插件的需求，可以参考 &lt;xref class=&#34;- topic/xref &#34; format=&#34;html&#34; href=&#34;https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq&#34; scope=&#34;external&#34; xtrc=&#34;xref:4;24:258&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;NSQ 插件官方文档&lt;/xref&gt;的说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:8;26:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;安装插件需要重启 DolphinDB。以 Linux 单节点为例，将编译好的 NSQ 插件安装到路径 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:1;26:52&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/plugins/nsq/&lt;/i&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:9;28:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;将 NSQ 插件的路径添加到 Linux 环境变量：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:1;30:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;export LD_LIBRARY_PATH=/DolphinDB/server/plugins/nsq/:$LD_LIBRARY_PATH &lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:10;34:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;然后启动 DolphinDB：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:2;36:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nohup ./dolphindb -console 0 &amp;gt; single.nohup 2&amp;gt;&amp;amp;1 &amp;amp;&lt;/codeblock&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:2;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:4;40:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:3;40:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;手动加载插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:11;42:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;节点启动后，通过 DolphinDB GUI 连接该节点，运行以下代码加载插件：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:3;44:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;loadPlugin(&#34;/DolphinDB/server/plugins/nsq/PluginNsq.txt&#34;)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:12;48:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;任意会话中成功加载插件，即可在当前节点的其他会话中使用插件。若节点重启，则需要重新加载插件。DolphinDB 可以通过配置自动加载指定的插件。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:3;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:5;50:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:4;50:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;自动加载插件&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:13;52:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;在配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:2;52:7&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 中加上：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:4;54:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;preloadModules=plugins::nsq&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:14;58:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;然后启动 DolphinDB，系统自动会到 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:3;58:23&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/plugins/&lt;/i&gt; 目录下加载插件。&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:4;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:6;60:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:5;60:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;验证加载&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:15;62:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;插件加载好后，可以运行以下代码来验证 NSQ 插件安装成功：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:5;64:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:16;68:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;该插件函数用于获取当前 NSQ 行情数据连接以及订阅状态，返回如下表格：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:6;70:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;topicType isConnected isSubscribed processedMsgCount lastErrMsg failedMsgCount lastFailedTimesconnecttamp -------------- ----------- ------------ ----------------- ---------- -------------- ------------------- (snapshot, sh) true true 0 0 (snapshot, sz) true true 0 0 (trade, sh) true true 0 0 (trade, sz) true true 0 0 (orders, sh) true true 0 0 (orders, sz) true true 0 0&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;12-安装-easynsq-模块&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:4;81:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:4;81:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.2. 安装 easyNSQ 模块&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:4;81:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:17;84:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;以 Linux 单节点为例，将模块文件拷贝到 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:4;84:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/modules/&lt;/i&gt; 目录下，即模块脚本 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:5;84:63&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ.dos&lt;/i&gt; 的路径应为 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:6;84:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/modules/DolphinDBModules/easyNSQ.dos&lt;/i&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:18;86:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;模块文件安装好，运行以下代码加载模块：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:7;88:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;use DolphinDBModules::easyNSQ&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:19;92:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果没有返回错误信息，则说明 easyNSQ 模块已经成功加载。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:20;94:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;安装插件时常见的错误信息如下：&lt;/p&gt;&lt;ol class=&#34;- topic/ol &#34; xtrc=&#34;ol:1;96:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:7;96:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;插件与 DolphinDB server 版本不匹配，需要改用适配 server 版本的插件：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:1;96:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;The first line must be the module name, dynamic library file name and version, separated by comma&lt;/codeph&gt; 或 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:2;96:153&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Failed to loadPlugin file [...] for the plugin version [...] is not same to the server version [...]&lt;/codeph&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:8;97:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;没有将 NSQ 插件的路径添加到 Linux 环境变量，需要添加环境变量再重启 DolphinDB server ：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:3;97:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;Couldn't load the dynamic library [.../libPluginNsq.so]: libHSNsqApi.so: cannot open shared object file: No such file or directory [...]&lt;/codeph&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:21;99:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果遇到其他问题，可以在社区中交流或者联系 DolphinDB 的技术支持工程师。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;13-使用示例&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:5;101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:5;101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1.3. 使用示例&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:5;101:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:5;103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:9;103:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:22;103:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:6;103:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第一步&lt;/b&gt;：用户准备好 nsq 行情数据服务器配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:7;103:33&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sdk_config.ini&lt;/i&gt;，以及编译好的 NSQ 插件。上传到 DolphinDB server 所在的服务器上。下图中，配置文件和 NSQ 插件都放置在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:8;103:114&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;server/plugins/nsq/&lt;/i&gt; 路径。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:1;105:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;564&#34; dita-ot:image-height=&#34;143&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:10;107:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:23;107:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:7;107:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第二步&lt;/b&gt;：将模块文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:9;107:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ.dos&lt;/i&gt; 上传到 DolphinDB server 所在的服务器上，放在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:10;107:63&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;server/modules/DolphinDBModules/&lt;/i&gt; 路径下（如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:11;107:105&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;modules&lt;/i&gt; 目录下 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:12;107:119&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DolphinDBModules&lt;/i&gt; 文件夹不存在，需要手动创建 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:13;107:152&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DolphinDBModules&lt;/i&gt; 文件夹）&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:2;109:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;660&#34; dita-ot:image-height=&#34;84&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:11;111:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:24;111:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:8;111:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第三步&lt;/b&gt;：将 NSQ 插件的路径添加到 Linux 环境变量，然后启动 DolphinDB server。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:3;113:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1052&#34; dita-ot:image-height=&#34;39&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:12;115:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:25;115:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:9;115:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第四步&lt;/b&gt;：打开浏览器，在地址栏输入 DolphinDB server 的 ip 地址与端口，连接到该节点的 web 编辑页面。点击右上角的用户按钮进行登录。&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_4.png&#34; placement=&#34;break&#34; xtrc=&#34;image:4;117:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1110&#34; dita-ot:image-height=&#34;363&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:13;119:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:26;119:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:10;119:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第五步&lt;/b&gt;：在编辑器页面，执行以下脚本订阅行情数据和落库存储：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:8;121:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 文件地址变量 pluginPath = &#34;/home/appadmin/mqzhu/jit_server/server/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;/home/appadmin/mqzhu/jit_server/server/plugins/nsq/sdk_config.ini&#34; // 加载插件 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } go // 加载模块 use DolphinDBModules::easyNSQ go // 初始化环境 iniNsqEnv() iniNsqDfs() go // 拉起订阅 subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, merge=true) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, merge=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, merge=true)&lt;/codeblock&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:14;145:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:27;145:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:11;145:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第六步&lt;/b&gt;：查询订阅状态&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:28;147:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用插件函数 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:4;147:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsq::getSubscriptionStatus()&lt;/codeph&gt; 可以获取 NSQ 行情的订阅状态。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:9;149:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_5.png&#34; placement=&#34;break&#34; xtrc=&#34;image:5;153:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;880&#34; dita-ot:image-height=&#34;194&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:15;155:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:29;155:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:12;155:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第七步&lt;/b&gt;：查询流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:30;157:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（1）逐笔委托&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:10;159:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockOrdersStream limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_6.png&#34; placement=&#34;break&#34; xtrc=&#34;image:6;163:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1173&#34; dita-ot:image-height=&#34;286&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:31;165:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（2）逐笔成交&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:11;167:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockTradeStream limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_7.png&#34; placement=&#34;break&#34; xtrc=&#34;image:7;171:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1296&#34; dita-ot:image-height=&#34;284&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:32;173:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（3）L2 快照&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:12;175:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from nsqStockSnapshotStream limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_8.png&#34; placement=&#34;break&#34; xtrc=&#34;image:8;179:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1359&#34; dita-ot:image-height=&#34;292&#34;/&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:16;181:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:33;181:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:13;181:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;第八步&lt;/b&gt;：查询分区表&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:34;183:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（1）逐笔委托&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:13;185:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;orders&#34;) limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_9.png&#34; placement=&#34;break&#34; xtrc=&#34;image:9;189:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1172&#34; dita-ot:image-height=&#34;282&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:35;191:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（2）逐笔成交&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:14;193:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from loadTable(&#34;dfs://nsqStockTrade&#34;, &#34;trade&#34;) limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_10.png&#34; placement=&#34;break&#34; xtrc=&#34;image:10;197:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1218&#34; dita-ot:image-height=&#34;287&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:36;199:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;（3）L2 快照&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:15;201:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;select * from loadTable(&#34;dfs://nsqStockSnapshot&#34;, &#34;snapshot&#34;) limit 10&lt;/codeblock&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/1_11.png&#34; placement=&#34;break&#34; xtrc=&#34;image:11;205:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1370&#34; dita-ot:image-height=&#34;286&#34;/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;2-实时行情数据存储说明&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:6;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:6;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2. 实时行情数据存储说明&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:6;207:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;21-接收行情数据到流数据表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:7;209:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:7;209:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2.1. 接收行情数据到流数据表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:7;209:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/2_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:12;211:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1865&#34; dita-ot:image-height=&#34;540&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:37;213:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户指定希望接收的行情数据源（逐笔委托、逐笔成交或L2快照），easyNSQ 模块会根据用户的需要创建不同的持久化共享流数据表，并通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据写入持久化共享流数据表中。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:38;215:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;持久化共享流数据表是进行共享并做了持久化处理的流数据表。将流数据表共享是为了让该流数据表在连接当前节点其它会话中也可见。比如通过 C++ API 实时查询流数据表的会话与定义流数据表的会话不会是同一个，如果不将流数据表共享，查询的需求就无法实现。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:39;217:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;对流数据表进行持久化的目的主要有两个：一是控制该表的最大内存占用，通过设置 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:5;217:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;enableTableShareAndPersistence&lt;/codeph&gt; 函数中的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:14;217:77&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cacheSize&lt;/i&gt; 参数，可以控制流数据表在内存中最多保留多少条记录，超出的部分被写入持久化数据文件、从内存中清除，进而控制该表的最大内存占用；二是在节点异常关闭的极端情况下，可以从持久化数据文件中恢复已经写入流数据表但是未消费的数据，保证流数据“至少消费一次”的需求。流数据表持久化采用异步的方式进行，对流数据表写入吞吐量几乎没有影响。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:40;219:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:14;219:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:41;221:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;虽然名字里带有“持久化”，但是持久化流数据表并不能满足行情数据持久化存储的需求。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:42;223:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;首先，流数据表持久化到磁盘上的数据的规模在增长到一定大小，或者超过一定时间之后，会触发系统的回收校验，并不能做到真正的永久化存储。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:43;225:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;其次，流数据表持久化到磁盘上的数据并没有进行结构化的存储，查询和更新的效率比不上在分区表中存储的数据，不适合用于实际生产环境。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:44;227:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;如果用户有将行情数据在磁盘上进行持久化存储的需求，请阅读本篇文档&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#接收行情数据到流数据表并持久化到分区表&#34; xtrc=&#34;xref:5;227:33&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;接收行情数据到流数据表，并持久化到分区表&lt;/xref&gt;及&lt;xref class=&#34;- topic/xref &#34; dita-ot:orig-format=&#34;markdown&#34; format=&#34;dita&#34; href=&#34;#合并存储上海和深圳市场行情数据&#34; xtrc=&#34;xref:6;227:78&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;合并存储上海和深圳市场行情数据&lt;/xref&gt;两小节的方案说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:45;231:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以为这些持久化的共享流数据表指定名字，也可以选择使用模块默认的表名。在用户没有指定表名的情况下，模块对持久化共享流数据表的命名如下：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:6;233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:17;233:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔委托：流数据表名称为 ”nsqStockOrdersSHStream“。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:18;234:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔委托：流数据表名称为 ”nsqStockOrdersSZStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:19;235:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔成交：流数据表名称为 “nsqStockTradeSHStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:20;236:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔成交：流数据表名称为 ”nsqStockTradeSZStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:21;237:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所 L2 所快照：流数据表名称为 “nsqStockSnapshotSHStream&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:22;238:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所 L2 所快照：流数据表名称为 ”nsqStockSnapshotSZStream“。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:46;240:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;基于过往项目的实践，推荐如下的持久化共享流数据表参数配置方案：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:2;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:1;242:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:15;242:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;配置项&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:2;242:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:16;242:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;配置值&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:1;244:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:2;244:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:3;244:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;asynWrite&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:4;244:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;true&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:3;245:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:5;245:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;compress&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:6;245:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;true&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:4;246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:7;246:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cacheSize&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:8;246:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;500,000&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:5;247:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:9;247:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;preCache&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:10;247:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;100,000&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:6;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:11;248:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;retentionMinutes&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:12;248:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;1440&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:7;249:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:13;249:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;flushMode&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:14;249:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;0&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;22-接收行情数据到流数据表并持久化到分区表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:8;251:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:8;251:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2.2. 接收行情数据到流数据表，并持久化到分区表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:8;251:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/2_2.png&#34; placement=&#34;break&#34; xtrc=&#34;image:13;253:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1865&#34; dita-ot:image-height=&#34;671&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:47;255:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块还支持将实时行情数据写入分区表进行持久化的存储。在此种订阅模式下，用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据分别写入持久化共享流数据表，然后通过 DolphinDB 内置的订阅-发布功能，将流数据表的增量数据实时写入分区表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:48;257:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户可以指定用于存储行情数据的数据库和分区表的名字。在用户没有指定数据库和分区表名字的情况下，模块会使用默认名字的数据库和分区表：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:7;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:23;259:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔委托：数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;ordersSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:24;260:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔委托：数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;ordersSZ&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:25;261:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所逐笔成交：数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;tradeSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:26;262:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所逐笔成交：数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;tradeSZ&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:27;263:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;上交所 L2 所快照：数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshotSH&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:28;264:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;深交所 L2 所快照：数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshotSZ&#34;。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:49;266:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块会将同一行情数据源的数据放在同一个数据库中，比如上交所逐笔委托和深交所逐笔委托数据都会存储在数据库 &#34;dfs://nsqStockOrders&#34;。这样的做法，部分是出于业务逻辑的考虑，即后续往往会对上交所和深交所的逐笔委托数据进行同样的处理操作；此外，NSQ 插件已经对上海和深圳市场的行情数据表结构做了统一处理，上交所和深交所的数据适用于同一套数据库分区规则，可以存储在同一个数据库中。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:50;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:17;268:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:51;270:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;出于数据安全的考虑，easyNSQ 模块在存储数据到分区表的过程中，如果发现要做写入的分区表不存在，会创建新分区表；如果发现同名分区表已存在，会直接向该分区表写入数据，而不是进行删除和重新创建。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:52;272:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;因此，用户在使用 easyNSQ 模块时，需要注意：如果已存在分区表的表结构与行情数据结构不同，写入数据的时候就会抛出异常。建议用户使用 easyNSQ 模块时，在订阅行情数据前对用于行情数据入库存储的分区表进行检查。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:53;274:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;基于过往项目的实践，对分区表确定了如下的分区方案：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:2;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:2;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:3;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:4;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:5;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:6;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:2;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:8;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:15;276:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:18;276:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情数据类型&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:16;276:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:19;276:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区方案&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:17;276:71&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:20;276:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区列&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:18;276:95&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:21;276:96&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;排序列&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:2;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:9;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:19;278:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托（orders）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:20;278:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:21;278:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:22;278:81&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:10;279:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:23;279:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交（trade）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:24;279:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:25;279:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:26;279:81&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:11;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:27;280:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 快照（snapshot）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:28;280:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:29;280:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:30;280:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + UpdateTime&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;23-合并存储上海和深圳市场行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:9;282:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:9;282:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;2.3. 合并存储上海和深圳市场行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:9;282:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/2_3.png&#34; placement=&#34;break&#34; xtrc=&#34;image:14;284:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;1865&#34; dita-ot:image-height=&#34;1244&#34;/&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:54;286:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ 模块支持将上海和深圳市场的实时行情数据进行合并处理。用户可以指定用于接收实时数据的流数据表的名字，以及用于存储行情数据的数据库和分区表的名字。在用户没有进行指定的情况下，模块会使用默认的名字：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:8;288:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:29;288:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托：流数据表名称为 “nsqStockOrdersStream”， 数据库名称为 &#34;dfs://nsqStockOrders&#34;，分区表名称为 &#34;orders&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:30;289:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交：流数据表名称为 “nsqStockTradeStream”，数据库名称为 &#34;dfs://nsqStockTrade&#34;，分区表名称为 &#34;trade&#34;。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:31;290:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 所快照：流数据表名称为 “nsqStockSnapshotStream”，数据库名称为 &#34;dfs://nsqStockSnapshot&#34;，分区表名称为 &#34;snapshot&#34;。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:55;292:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;对于沪深行情数据合并存储，持久化共享流数据表的参数配置方案同沪深行情分开存储的参数配置方案。而分区表的分区方案如下：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:3;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;4&#34; xtrc=&#34;tgroup:3;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:7;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:8;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:9;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:10;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:3;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:12;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:31;294:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:22;294:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情数据类型&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:32;294:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:23;294:19&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区方案&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:33;294:71&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:24;294:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区列&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:34;294:95&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:25;294:96&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;排序列&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:3;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:13;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:35;296:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔委托（orders）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:36;296:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:37;296:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:38;296:81&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:14;297:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:39;297:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;逐笔成交（trade）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:40;297:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:41;297:54&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:42;297:81&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + TransactTime&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:15;298:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:43;298:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;L2 快照（snapshot）&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:44;298:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:45;298:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate + InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:46;298:83&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID + UpdateTime&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;3-easynsq-模块接口介绍&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:10;300:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:10;300:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3. easyNSQ 模块接口介绍&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:10;300:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:11;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:11;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.1. easyNSQ::subscribeNsq(configFilePath, dataSource, [markets], [merge], [saveToDfs], [streamTableNames], [dbPath], [tableNames])&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:11;302:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:56;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:26;304:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:57;306:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:15;306:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;configFilePath&lt;/i&gt; ：一个字符串，表示 NSQ 行情服务器配置文件 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:16;306:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sdk_config.ini&lt;/i&gt; 的绝对路径；若拷贝配置文件至 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:17;306:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb server&lt;/i&gt;，则可以是相对于 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:18;306:101&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb server&lt;/i&gt; 的相对路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:58;308:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:19;308:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dataSource&lt;/i&gt; ：一个字符串，表示行情的类型，可以是以下值：&lt;/p&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:9;310:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:32;310:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;“orders”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:33;311:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;”trade”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:34;312:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;“snapshot”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:59;314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:20;314:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;markets&lt;/i&gt;： 可选参数。一个字符串或字符串向量，表示行情市场，上海证券交易所用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:6;314:45&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/codeph&gt; 表示，深圳证券交易所用 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:7;314:62&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/codeph&gt; 表示，参数默认值为 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:8;314:77&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;[&#34;sz&#34;, &#34;sh&#34;]&lt;/codeph&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:60;316:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:21;316:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;merge&lt;/i&gt;： 可选参数。一个布尔值，表示是否合并处理上海和深圳市场的行情数据，参数默认值为 false。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:61;318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:22;318:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;saveToDfs&lt;/i&gt;： 可选参数。一个布尔值，表示是否持久化存储到分区表，参数默认值为 false。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:62;320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:23;320:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;： 可选参数。一个字符串或字符串向量，表示用于接收实时数据的流数据表的名字，&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:27;320:57&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;将使用这个名字创建新的持久化共享流数据表&lt;/b&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:63;322:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:24;322:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbPath&lt;/i&gt;： 可选参数。一个字符串，表示用于持久化存储数据的数据库的名字。若数据库不存在，将创建新数据库。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:64;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:25;324:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tableNames&lt;/i&gt; ：可选参数。一个字符串或字符串向量，表示用于持久化存储数据的分区表的名字。若分区表不存在，将创建新分区表。&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:28;324:67&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;若同名分区表已存在，则直接向该表写入&lt;/b&gt;。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:65;326:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:29;326:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:66;328:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;自动化接收和存储 NSQ 实时行情数据。对应行情市场和行情类型的实时数据会被接收到持久化共享流数据表，并根据用户需要，同时将数据持久化存储到分区表。 函数执行成功会返回流数据表的名字（如果 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:26;329:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;saveToDfs&lt;/i&gt; 为 true，还会返回数据库和分区表的名字），若执行不成功则返回 NULL。&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:16;331:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames = subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true) streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true)&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:67;336:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:27;336:12&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;、&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:28;336:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbPath&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:29;336:42&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tableNames&lt;/i&gt; 时，easyNSQ 模块默认使用以下名字：&lt;/p&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:4;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;5&#34; xtrc=&#34;tgroup:4;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:11;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:12;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:13;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:14;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:15;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:4;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:16;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:47;338:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情类型&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:48;338:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;行情市场&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:49;338:16&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;流数据表&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:50;338:39&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;数据库&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:51;338:61&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;分区表&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:4;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:17;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:52;340:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:53;340:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:54;340:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:55;340:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:56;340:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ordersSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:18;341:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:57;341:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:58;341:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:59;341:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:60;341:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:61;341:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ordersSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:19;342:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:62;342:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:63;342:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:64;342:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockOrdersStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:65;342:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockOrders&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:66;342:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;orders&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:20;343:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:67;343:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:68;343:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:69;343:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:70;343:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:71;343:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tradeSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:21;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:72;344:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:73;344:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:74;344:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:75;344:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:76;344:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tradeSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:22;345:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:77;345:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:78;345:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:79;345:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockTradeStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:80;345:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockTrade&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:81;345:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;trade&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:23;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:82;346:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:83;346:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sh&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:84;346:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotSHStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:85;346:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:86;346:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshotSH&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:24;347:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:87;347:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:88;347:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;sz&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:89;347:24&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotSZStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:90;347:51&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:91;347:76&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshotSZ&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:25;348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:92;348:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:93;348:13&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;合并存储&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:94;348:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;nsqStockSnapshotStream&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:95;348:47&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dfs://nsqStockSnapshot&lt;/entry&gt;&lt;entry class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:96;348:72&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;snapshot&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;32-easynsqclosensqconnection&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:12;350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:12;350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.2. easyNSQ::closeNsqConnection()&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:12;350:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:68;352:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:30;352:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:69;354:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;无&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:70;356:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:31;356:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:71;358:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;断开与行情服务器的连接，本函数执行后会取消所有已建立的对实时行情数据的订阅。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:72;360:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数执行成功返回 true，若有执行异常则会返回 false。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;33-easynsqininsqenvstreamtablenames&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:13;362:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:13;362:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.3. easyNSQ::iniNsqEnv([streamTableNames])&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:13;362:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:73;364:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:32;364:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:74;366:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:30;366:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;：可选参数。一个字符串或字符串向量，表示要清理的流数据表。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:75;368:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:33;368:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:76;370:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;初始化流计算环境，清理指定的流数据表及其订阅。若用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:31;370:36&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;streamTableNames&lt;/i&gt;，则会根据 easyNSQ 模块默认使用的流数据表进行清理，请参考 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:9;370:88&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::subscribeNsq&lt;/codeph&gt; 的函数详情说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:77;372:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:34;372:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:10;372:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;iniNsqEnv&lt;/codeph&gt; 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的流数据表名字，对同名流数据表及其订阅进行清理。请用户注意这一行为可能会导致数据被误删除。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;34-easynsqininsqdfsdbname-tbnames&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:14;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:14;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;3.4. easyNSQ::iniNsqDfs([dbName], [tbNames])&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:14;374:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:78;376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:35;376:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;参数&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:79;378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:32;378:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbName&lt;/i&gt;： 可选参数。一个字符串，表示要清理的分区表的数据路径。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:80;380:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:33;380:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tbNames&lt;/i&gt; ：可选参数。一个字符串或字符串向量，表示要清理的分区表的表名。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:81;382:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:36;382:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;函数详情&lt;/b&gt;&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:82;384:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;初始化环境，清理已指定的分区表。若用户没有使用可选参数 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:34;384:29&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dbName&lt;/i&gt; 和 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:35;384:40&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;tbNames&lt;/i&gt;，则会根据 easyNSQ 模块默认使用的分区表进行清理，请参考 &lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:11;384:82&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;easyNSQ::subscribeNsq&lt;/codeph&gt; 的函数详情说明。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:83;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:37;386:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;注意&lt;/b&gt;：&lt;codeph class=&#34;+ topic/ph pr-d/codeph &#34; xtrc=&#34;codeph:12;386:8&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;iniNsqDfs&lt;/codeph&gt; 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的数据库路径和分区表名字，对分区表进行清理。请用户注意这一行为可能会导致数据被误删除。&lt;/p&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;4-easynsq-模块使用示例&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:15;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:15;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4. easyNSQ 模块使用示例&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:15;388:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:84;390:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;本章节为四个不同的使用场景提供了脚本示例。&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;41-例1-接收深圳市场-snapshot-实时行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:16;392:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:16;392:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.1. 例1. 接收深圳市场 snapshot 实时行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:16;392:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:17;394:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 初始化化境并拉起订阅 iniNsqEnv() streamTableNames = subscribeNsq(configFilePath, &#34;snapshot&#34;, &#34;sz&#34;, saveToDfs=false) // 检查订阅情况 nsq::getSubscriptionStatus() select count(*) from objByName(streamTableNames[0]) select top 100 * from objByName(streamTableNames[0]) // 停止订阅 nsq::unsubscribe(&#34;snapshot&#34;, &#34;sz&#34;) nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;42-例2-接收上海市场所有类型实时行情数据并持久化存储&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:17;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:17;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.2. 例2. 接收上海市场所有类型实时行情数据，并持久化存储&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:17;416:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:18;418:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) // 调用模块 use DolphinDBModules::easyNSQ configFilePath = &#34;&amp;lt;your_path_to&amp;gt;/nsq_sdk_config.ini&#34;; // 初始化环境并拉起订阅 iniNsqEnv() iniNsqDfs() subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true) subscribeNsq(configFilePath, &#34;trade&#34;, &#34;sh&#34;, saveToDfs=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, &#34;sh&#34;, saveToDfs=true) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockTradeSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockSnapshotSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(&#34;nsqStockOrdersSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) select count(*) from objByName(&#34;nsqStockTradeSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockTrade&#34;, &#34;tradeSH&#34;) select count(*) from objByName(&#34;nsqStockSnapshotSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockSnapshot&#34;, &#34;snapshotSH&#34;) // 仅停止 orders 行情数据的订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;) nsq::getSubscriptionStatus() // 停止所有订阅 closeNsqConnection() nsq::getSubscriptionStatus()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;43-例3-停止所有订阅后重新接收上海市场-orders-数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:18;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:18;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.3. 例3. 停止所有订阅后，重新接收上海市场 orders 数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:18;454:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;431-保留之前持久化的数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:19;456:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:19;456:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.3.1. 保留之前持久化的数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:19;456:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:19;458:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) pluginPath = &#34;&amp;lt;your_path&amp;gt;/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;&amp;lt;your_path&amp;gt;/nsq_sdk_config.ini&#34;; // 确保 nsq 插件加载成功 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } // 调用模块 use DolphinDBModules::easyNSQ // 初始化流环境并拉起订阅 iniNsqEnv(&#34;nsqStockOrdersSHStream&#34;) streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,streamTableNames[0],&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(streamTableNames[0]) select count(*) from loadTable(dbPath, tableNames[0]) // 停止订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;432-不保留之前持久化的数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:20;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:20;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.3.2. 不保留之前持久化的数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:20;484:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:20;486:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) pluginPath = &#34;&amp;lt;your_path&amp;gt;/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;&amp;lt;your_path&amp;gt;/nsq_sdk_config.ini&#34;; // 确保 nsq 插件加载成功 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } // 调用模块 use DolphinDBModules::easyNSQ // 初始化环境并拉起订阅 iniNsqEnv(&#34;nsqStockOrdersSHStream&#34;) iniNsqDfs(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) subscribeNsq(configFilePath, &#34;orders&#34;, &#34;sh&#34;, saveToDfs=true) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersSHStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) select count(*) from objByName(&#34;nsqStockOrdersSHStream&#34;) select count(*) from loadTable(&#34;dfs://nsqStockOrders&#34;, &#34;ordersSH&#34;) // 停止订阅 nsq::unsubscribe(&#34;orders&#34;, &#34;sh&#34;)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;44-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:21;513:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:21;513:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.4. 例4. 接收上海和深圳市场所有类型的实时行情数据，并持久化存储&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:21;513:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;441-合并处理上海和深圳市场数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:22;515:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:22;515:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.4.1. 合并处理上海和深圳市场数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:22;515:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:21;517:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) pluginPath = &#34;&amp;lt;your_path&amp;gt;/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;&amp;lt;your_path&amp;gt;/nsq_sdk_config.ini&#34;; // 确保 nsq 插件加载成功 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } // 调用模块 use DolphinDBModules::easyNSQ // 初始化环境并拉起订阅 iniNsqEnv() iniNsqDfs() subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], merge=true, saveToDfs=true) // 检查订阅情况 nsq::getSubscriptionStatus() existsSubscriptionTopic(,&#34;nsqStockOrdersStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockTradeStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) existsSubscriptionTopic(,&#34;nsqStockSnapshotStream&#34;,&#34;easyNSQ_saveToDfsTable&#34;) // 停止订阅 closeNsqConnection()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;442-分开处理上海和深圳市场数据用户自定义流数据表和分区表名字&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:23;546:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:23;546:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.4.2. 分开处理上海和深圳市场数据（用户自定义流数据表和分区表名字）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:23;546:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:22;548:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) pluginPath = &#34;&amp;lt;your_path&amp;gt;/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;&amp;lt;your_path&amp;gt;/nsq_sdk_config.ini&#34;; // 确保 nsq 插件加载成功 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } // 调用模块 use DolphinDBModules::easyNSQ // 初始化环境并拉起订阅 iniNsqEnv([&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;, &#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;,&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;]) iniNsqDfs(&#34;dfs://myNsqOrders&#34;, `myNsqOrdersSH`myNsqOrdersSZ) iniNsqDfs(&#34;dfs://myNsqTrade&#34;, `myNsqTradeSH`myNsqTradeSZ) iniNsqDfs(&#34;dfs://myNsqSnapshot&#34;, `myNsqSnapshotSH`myNsqSnapshotSZ) subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;], dbPath=&#34;dfs://myNsqOrders&#34;, tableNames=[&#34;myNsqOrdersSH&#34;, &#34;myNsqOrdersSZ&#34;]) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;], dbPath=&#34;dfs://myNsqTrade&#34;, tableNames=[&#34;myNsqTradeSH&#34;, &#34;myNsqTradeSZ&#34;]) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true, streamTableNames=[&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;], dbPath=&#34;dfs://myNsqSnapshot&#34;, tableNames=[&#34;myNsqSnapshotSH&#34;, &#34;myNsqSnapshotSZ&#34;]) // 检查订阅情况 nsq::getSubscriptionStatus() select * from getStreamingStat().subWorkers where topic like &#34;%easyNSQ_saveToDfsTable%&#34; // 停止订阅 closeNsqConnection()&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;443-清理以上例子运行时创建的流数据表和分区表&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:24;577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:24;577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;4.4.3. 清理以上例子运行时创建的流数据表和分区表&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:24;577:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:23;579:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;iniNsqEnv() iniNsqDfs() iniNsqEnv([&#34;myNsqOrdersSHStream&#34;, &#34;myNsqOrdersSZStream&#34;, &#34;myNsqTradeSHStream&#34;, &#34;myNsqTradeSZStream&#34;,&#34;myNsqSnapshotSHStream&#34;, &#34;myNsqSnapshotSZStream&#34;]) iniNsqDfs(&#34;dfs://myNsqOrders&#34;, `myNsqOrdersSH`myNsqOrdersSZ) iniNsqDfs(&#34;dfs://myNsqTrade&#34;, `myNsqTradeSH`myNsqTradeSZ) iniNsqDfs(&#34;dfs://myNsqSnapshot&#34;, `myNsqSnapshotSH`myNsqSnapshotSZ)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;5-设置节点启动时自动订阅-nsq-行情数据&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:25;588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:25;588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;5. 设置节点启动时自动订阅 NSQ 行情数据&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:25;588:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:85;590:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;由于只存在于内存中，DolphinDB 流数据表和流数据表的订阅在节点关闭后就会消失。所以每次节点启动时，都需要重新创建流数据表和发起订阅。如果每次重新启动后都要求用户进行手动操作，在使用上无疑是不便的。考虑到这一点，DolphinDB 实现了启动时自动执行用户指定脚本的功能。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:86;592:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DolphinDB 系统启动流程如下图所示：&lt;/p&gt;&lt;image class=&#34;- topic/image &#34; href=&#34;images/DolphinDBModules_easyNSQ/5_1.png&#34; placement=&#34;break&#34; xtrc=&#34;image:15;594:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34; dita-ot:image-width=&#34;300&#34; dita-ot:image-height=&#34;530&#34;/&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:10;595:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:35;595:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户启动脚本（&lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:36;595:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt;）&lt;/li&gt;&lt;/ul&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:87;597:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;用户启动脚本是通过配置参数 startup 后才会执行，单机 single 模式在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:37;597:43&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 中配置，集群模式在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:38;597:69&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;cluster.cfg&lt;/i&gt; 中配置，可配置绝对路径或相对路径。若配置了相对路径或者没有指定目录，系统会依次搜索本地节点的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:39;597:130&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;home&lt;/i&gt; 目录、工作目录和可执行文件所在目录。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:88;599:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;以 Linux 单节点为例，在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:40;599:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;dolphindb.cfg&lt;/i&gt; 添加如下的配置项：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:24;601:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup=/DolphinDB/server/startup.dos&lt;/codeblock&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:89;605:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;然后在 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:41;605:5&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/&lt;/i&gt; 路径下创建 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:42;605:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt; 脚本文件即可完成配置。之后每次节点启动时，都会自动执行 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:43;605:74&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;/DolphinDB/server/startup.dos&lt;/i&gt; 脚本文件中的代码。&lt;/p&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:90;607:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;假设用户希望接收上海和深证两个市场的 NSQ 行情数据、持久化存储，并对沪深行情数据做分开存储。用户的 &lt;i class=&#34;+ topic/ph hi-d/i &#34; xtrc=&#34;i:44;607:53&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup.dos&lt;/i&gt; 应当如下：&lt;/p&gt;&lt;codeblock class=&#34;+ topic/pre pr-d/codeblock &#34; xml:space=&#34;preserve&#34; xtrc=&#34;codeblock:25;609:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;// 登录数据库 login(`admin, `123456) go pluginPath = &#34;&amp;lt;your_path&amp;gt;/plugins/nsq/PluginNsq.txt&#34; configFilePath = &#34;&amp;lt;your_path&amp;gt;/nsq_sdk_config.ini&#34;; // 确保 nsq 插件加载成功 try{ loadPlugin(pluginPath) } catch(ex) { print(ex) } go // 调用模块 use DolphinDBModules::easyNSQ go // 初始化环境(不删除分区表) iniNsqEnv() go // 拉起订阅 subscribeNsq(configFilePath, &#34;orders&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true) subscribeNsq(configFilePath, &#34;trade&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true) subscribeNsq(configFilePath, &#34;snapshot&#34;, [&#34;sh&#34;,&#34;sz&#34;], saveToDfs=true)&lt;/codeblock&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;6-行情数据表结构&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:26;634:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:26;634:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;6. 行情数据表结构&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:26;634:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;p class=&#34;- topic/p &#34; xtrc=&#34;p:91;636:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;目前 NSQ 插件对上海和深圳市场的行情数据表结构做了统一处理，具体表结构如下：&lt;/p&gt;&lt;/body&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;61-逐笔委托orders&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:27;638:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:27;638:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;6.1. 逐笔委托（orders）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:27;638:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:5;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:5;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:16;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:17;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:5;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:26;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:97;640:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:38;640:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:98;640:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:39;640:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:5;642:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:27;642:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:99;642:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:100;642:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:28;643:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:101;643:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:102;643:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:29;644:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:103;644:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransFlag&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:104;644:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:30;645:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:105;645:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SeqNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:106;645:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:31;646:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:107;646:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ChannelNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:108;646:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:32;647:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:109;647:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:110;647:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:33;648:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:111;648:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransactTime&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:112;648:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:34;649:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:113;649:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:114;649:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:35;650:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:115;650:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:116;650:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:36;651:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:117;651:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdSide&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:118;651:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:37;652:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:119;652:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdType&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:120;652:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:38;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:121;653:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OrdNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:122;653:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:39;654:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:123;654:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BizIndex&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:124;654:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;62-逐笔成交trade&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:28;656:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:28;656:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;6.2. 逐笔成交（trade）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:28;656:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:6;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;2&#34; xtrc=&#34;tgroup:6;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:18;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:19;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:6;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:40;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:125;658:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:40;658:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:126;658:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:41;658:18&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:6;660:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:41;660:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:127;660:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:128;660:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:42;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:129;661:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:130;661:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:43;662:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:131;662:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransFlag&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:132;662:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:44;663:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:133;663:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SeqNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:134;663:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:45;664:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:135;664:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ChannelNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:136;664:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:46;665:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:137;665:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:138;665:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:47;666:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:139;666:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TransactTime&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:140;666:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:48;667:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:141;667:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:142;667:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:49;668:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:143;668:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:144;668:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:50;669:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:145;669:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdMoney&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:146;669:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:51;670:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:147;670:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdBuyNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:148;670:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:52;671:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:149;671:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdSellNo&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:150;671:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:53;672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:151;672:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TrdBSFlag&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:152;672:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:54;673:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:153;673:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BizIndex&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:154;673:17&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;63-l2-快照snapshot&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:29;675:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:29;675:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;6.3. L2 快照（snapshot）&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:29;675:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;table class=&#34;- topic/table &#34; xtrc=&#34;table:7;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;tgroup class=&#34;- topic/tgroup &#34; cols=&#34;6&#34; xtrc=&#34;tgroup:7;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col1&#34; colnum=&#34;1&#34; xtrc=&#34;colspec:20;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col2&#34; colnum=&#34;2&#34; xtrc=&#34;colspec:21;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col3&#34; colnum=&#34;3&#34; xtrc=&#34;colspec:22;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col4&#34; colnum=&#34;4&#34; xtrc=&#34;colspec:23;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col5&#34; colnum=&#34;5&#34; xtrc=&#34;colspec:24;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;colspec class=&#34;- topic/colspec &#34; colname=&#34;col6&#34; colnum=&#34;6&#34; xtrc=&#34;colspec:25;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;/&gt;&lt;thead class=&#34;- topic/thead &#34; xtrc=&#34;thead:7;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:55;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:155;677:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:42;677:3&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:156;677:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:43;677:21&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:157;677:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:44;677:32&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:158;677:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:45;677:56&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:159;677:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:46;677:67&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;name&lt;/b&gt;&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;1&#34; xtrc=&#34;entry:160;677:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;b class=&#34;+ topic/ph hi-d/b &#34; xtrc=&#34;b:47;677:92&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;type&lt;/b&gt;&lt;/entry&gt;&lt;/row&gt;&lt;/thead&gt;&lt;tbody class=&#34;- topic/tbody &#34; xtrc=&#34;tbody:7;679:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:56;679:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:161;679:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ExchangeID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:162;679:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:163;679:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidVolume0-9&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:164;679:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:165;679:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellBalance&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;2&#34; xtrc=&#34;entry:166;679:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:57;680:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:167;680:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentID&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:168;680:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;SYMBOL&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:169;680:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskVolume0-9&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:170;680:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:171;680:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalWarrantExecVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;3&#34; xtrc=&#34;entry:172;680:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:58;681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:173;681:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LastPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:174;681:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:175;681:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradesNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:176;681:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:177;681:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;WarrantLowerPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;4&#34; xtrc=&#34;entry:178;681:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:59;682:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:179;682:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;PreClosePrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:180;682:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:181;682:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;InstrumentTradeStatus&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:182;682:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CHAR&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:183;682:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;WarrantUpperPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;5&#34; xtrc=&#34;entry:184;682:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:60;683:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:185;683:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;OpenPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:186;683:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:187;683:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalBidVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:188;683:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:189;683:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;6&#34; xtrc=&#34;entry:190;683:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:61;684:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:191;684:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;HighPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:192;684:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:193;684:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalAskVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:194;684:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:195;684:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;7&#34; xtrc=&#34;entry:196;684:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:62;685:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:197;685:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LowPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:198;685:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:199;685:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBidPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:200;685:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:201;685:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;8&#34; xtrc=&#34;entry:202;685:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:63;686:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:203;686:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;ClosePrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:204;686:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:205;686:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaAskPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:206;686:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:207;686:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;9&#34; xtrc=&#34;entry:208;686:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:64;687:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:209;687:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;UpperLimitPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:210;687:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:211;687:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBondBidPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:212;687:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:213;687:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelBuyValue&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;10&#34; xtrc=&#34;entry:214;687:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:65;688:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:215;688:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LowerLimitPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:216;688:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:217;688:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;MaBondAskPrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:218;688:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:219;688:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;CancelSellValue&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;11&#34; xtrc=&#34;entry:220;688:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:66;689:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:221;689:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeDate&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:222;689:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DATE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:223;689:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;YieldToMaturity&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:224;689:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:225;689:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalBuyNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;12&#34; xtrc=&#34;entry:226;689:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:67;690:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:227;690:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;UpdateTime&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:228;690:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TIME&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:229;690:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;IOPV&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:230;690:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:231;690:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TotalSellNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;13&#34; xtrc=&#34;entry:232;690:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:68;691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:233;691:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:234;691:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:235;691:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuycount&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:236;691:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:237;691:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DurationAfterBuy&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;14&#34; xtrc=&#34;entry:238;691:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:69;692:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:239;692:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;TradeBalance&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:240;692:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:241;692:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellCount&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:242;692:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:243;692:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DurationAfterSell&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;15&#34; xtrc=&#34;entry:244;692:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:70;693:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:245;693:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AveragePrice&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:246;693:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:247;693:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuyVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:248;693:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:249;693:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidOrdersNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;16&#34; xtrc=&#34;entry:250;693:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:71;694:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:251;694:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;BidPrice0-9&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:252;694:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:253;694:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfBuyBalance&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:254;694:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:255;694:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskOrdersNum&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;17&#34; xtrc=&#34;entry:256;694:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;INT&lt;/entry&gt;&lt;/row&gt;&lt;row class=&#34;- topic/row &#34; xtrc=&#34;row:72;695:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col1&#34; dita-ot:x=&#34;1&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:257;695:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;AskPrice0-9&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col2&#34; dita-ot:x=&#34;2&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:258;695:20&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col3&#34; dita-ot:x=&#34;3&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:259;695:31&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;EtfSellVolume&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col4&#34; dita-ot:x=&#34;4&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:260;695:55&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;LONG&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col5&#34; dita-ot:x=&#34;5&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:261;695:66&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;PreIOPV&lt;/entry&gt;&lt;entry align=&#34;left&#34; class=&#34;- topic/entry &#34; colname=&#34;col6&#34; dita-ot:x=&#34;6&#34; dita-ot:y=&#34;18&#34; xtrc=&#34;entry:262;695:91&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;DOUBLE&lt;/entry&gt;&lt;/row&gt;&lt;/tbody&gt;&lt;/tgroup&gt;&lt;/table&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;&lt;topic class=&#34;- topic/topic &#34; ditaarch:DITAArchVersion=&#34;2.0&#34; domains=&#34;a(props audience) a(props deliveryTarget) a(props otherprops) a(props platform) a(props product)&#34; id=&#34;7-附件&#34; specializations=&#34;@props/audience @props/deliveryTarget @props/otherprops @props/platform @props/product&#34; xtrc=&#34;topic:30;697:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;title class=&#34;- topic/title &#34; xtrc=&#34;title:30;697:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;7. 附件&lt;/title&gt;&lt;body class=&#34;- topic/body &#34; xtrc=&#34;body:30;697:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;ul class=&#34;- topic/ul &#34; xtrc=&#34;ul:11;699:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:36;699:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;模块文件： &lt;xref class=&#34;- topic/xref &#34; format=&#34;dos&#34; href=&#34;src/easyNSQ.dos&#34; xtrc=&#34;xref:7;699:9&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;easyNSQ.dos&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:37;700:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;startup脚本： &lt;xref class=&#34;- topic/xref &#34; format=&#34;dos&#34; href=&#34;script/startup.dos&#34; xtrc=&#34;xref:8;700:14&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;startup.dos&lt;/xref&gt;&lt;/li&gt;&lt;li class=&#34;- topic/li &#34; xtrc=&#34;li:38;701:1&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;使用示例： &lt;xref class=&#34;- topic/xref &#34; format=&#34;txt&#34; href=&#34;script/easynsq_example.txt&#34; xtrc=&#34;xref:9;701:10&#34; xtrf=&#34;file:/var/lib/jenkins/workspace/packDocCN/documentation/zh/modules/easyNSQ/easynsq.md&#34;&gt;&lt;?ditaot usertext?&gt;examples.txt&lt;/xref&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/body&gt;&lt;/topic&gt;&lt;/topic&gt;"/><meta name="wh-source-relpath" content="modules/easyNSQ/easynsq.md"/><meta name="wh-out-relpath" content="modules/easyNSQ/easynsq.html"/>

    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/commons.css?buildId=2024012323"/>
    <link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/app/topic.css?buildId=2024012323"/>

    <script src="../../oxygen-webhelp/app/options/properties.js?buildId=20240704100525"></script>
    <script src="../../oxygen-webhelp/app/localization/strings.js?buildId=2024012323"></script>
    <script src="../../oxygen-webhelp/app/search/index/keywords.js?buildId=20240704100525"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/commons.js?buildId=2024012323"></script>
    <script defer="defer" src="../../oxygen-webhelp/app/topic.js?buildId=2024012323"></script>
<link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/template/styles.css?buildId=2024012323"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script></head>

    <body id="easynsq-实时行情数据接入功能模块" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">
            跳转到主要内容
        </a>
        
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div xmlns:whc="http://www.oxygenxml.com/webhelp/components" class="wh_header_flex_container navbar-nav navbar-expand-md navbar-dark">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <a href="https://www.dolphindb.cn" class=" wh_logo d-none d-sm-block "><img src="../../logo.png" alt="  DolphinDB 文档中心  "/></a>
                    <div class=" wh_publication_title "><a href="../../index.html"><span class="booktitle">  <span class="ph mainbooktitle">DolphinDB 文档中心</span>  </span></a></div>
                    
                </div>
                
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                
                
                
            </div>
        <div class=" wh_search_input navbar-form wh_topic_page_search search " role="form">
            
            
            
            <form id="searchForm" method="get" role="search" action="../../search.html"><div><input type="search" placeholder="搜索 " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="搜索查询" required="required"/><button type="submit" class="wh_search_button" aria-label="搜索"><span class="search_input_text">搜索</span></button></div></form>
            
            <script src="/vendors/react/umd/react.production.min.js" defer="defer"></script>
<script src="/vendors/react-dom/umd/react-dom.production.min.js" defer="defer"></script>
<script src="/vendors/dayjs/dayjs.min.js" defer="defer"></script>
<script src="/vendors/antd/dist/antd.min.js" defer="defer"></script>
<script src="/vendors/@ant-design/icons/dist/index.umd.min.js" defer="defer"></script>
<script src="/zh/index.js" type="module"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" defer="defer"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer="defer"><!--


--></script>

            
        </div></div>
    </div>
</header>
        
        
         
        
        
        
        <div class="container-fluid" id="wh_topic_container">
            <div class="row">

                <nav class="wh_tools d-print-none navbar-expand-md" aria-label="Tools">
                    
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol class="d-print-none"><li><span class="home"><a href="../../index.html"><span>主页</span></a></span></li><li><div class="topicref" data-id="chap7_tutorials_streaming"><div class="title"><a href="../../stream/str_intro.html"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div></li><li><div class="topicref"><div class="title"><a href="../../stream/str_api_python.html">实时流数据接入</a></div></div></li><li><div class="topicref" data-id="行情数据插件nsq"><div class="title"><a href="../../stream/nsq.html">行情数据插件：NSQ</a></div></div></li><li class="active"><div class="topicref" data-id="easynsq-实时行情数据接入功能模块"><div class="title"><a href="../../modules/easyNSQ/easynsq.html">easyNSQ 实时行情数据接入功能模块</a></div></div></li></ol></div>
                    
                    
                    
                    <div class="wh_right_tools">
                        <button class="wh_hide_highlight" aria-label="切换搜索突出显示" title="切换搜索突出显示"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="折叠截面" title="折叠截面"></button>
                        
                        
                        
                        
                        <div class=" wh_print_link print d-none d-md-inline-block "><button onClick="window.print()" title="打印此页" aria-label="打印此页"></button></div>
                        
                        <button type="button" id="wh_toc_button" class="custom-toggler navbar-toggler collapsed wh_toggle_button navbar-light" aria-expanded="false" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    
                </nav>
            </div>
            
            
            
            
            <div class="wh_content_area">
                <div class="row">
                    
                        <nav id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-12 d-md-block d-none d-print-none" aria-label="Table of Contents Container">
                            <div id="wh_publication_toc_content">
		                        
                            	<div class=" wh_publication_toc " data-tooltip-position="right"><span class="expand-button-action-labels"><span id="button-expand-action" role="button" aria-label="Expand"></span><span id="button-collapse-action" role="button" aria-label="Collapse"></span><span id="button-pending-action" role="button" aria-label="Pending"></span></span><ul role="tree" aria-label="Table of Contents"><li role="treeitem"><div data-tocid="new_chap_about_sect_ddb_docs_intro-d9529e87" class="topicref" data-id="new_chap_about_sect_ddb_docs_intro" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../about/ddb_docs_intro.html" id="new_chap_about_sect_ddb_docs_intro-d9529e87-link">文档使用说明</a><div class="wh-tooltip"><p class="shortdesc">如何获取 DolphinDB 帮助信息</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap1_getstarted-d9529e140" class="topicref" data-id="chap1_getstarted" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap1_getstarted-d9529e140-link" class="wh-expand-btn"></span><div class="title"><a href="../../getstarted/chap1_getstarted.html" id="chap1_getstarted-d9529e140-link"><span class="keyword label">快速上手</span></a><div class="wh-tooltip"><p class="shortdesc">如何快速部署 DolphinDB、建库建表、写入和查询数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="sectionddb_deployment-d9529e335" class="topicref" data-id="sectionddb_deployment" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action sectionddb_deployment-d9529e335-link" class="wh-expand-btn"></span><div class="title"><a href="../../deploy/deploy_intro.html" id="sectionddb_deployment-d9529e335-link"><span class="keyword label">部署</span></a><div class="wh-tooltip"><p class="shortdesc">如何在不同的场景中部署 DolphinDB</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313" class="topicref" data-id="new_chap_database_manage_new_chap_dbmanage_landing_page" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/cfg/db_intro.html" id="new_chap_database_manage_new_chap_dbmanage_landing_page-d9529e2313-link"><span class="keyword label">数据库</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 数据库的基本概念</p></div></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="chap7_tutorials_streaming-d9529e3490" class="topicref" data-id="chap7_tutorials_streaming" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action chap7_tutorials_streaming-d9529e3490-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_intro.html" id="chap7_tutorials_streaming-d9529e3490-link"><span class="keyword label">流数据</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 流数据引擎及流数据计算的基本概念</p></div></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem" aria-expanded="false"><div data-tocid="streamfunctions-d9529e3543" class="topicref" data-id="streamfunctions" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action streamfunctions-d9529e3543-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_funcs.html" id="streamfunctions-d9529e3543-link">功能简介</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e3821" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e3821-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/try_example1.html" id="tocId-d9529e3821-link">入门示例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="内置流式计算算子-d9529e3914" class="topicref" data-id="内置流式计算算子" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 内置流式计算算子-d9529e3914-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_operator.html" id="内置流式计算算子-d9529e3914-link"><span class="keyword label">内置流式计算算子</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="streamingEngineTopic-d9529e4099" class="topicref" data-id="streamingEngineTopic" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action streamingEngineTopic-d9529e4099-link" class="wh-expand-btn"></span><div class="title"><a href="../../funcs/themes/streamingEngine.html" id="streamingEngineTopic-d9529e4099-link"><span class="keyword label">内置流式计算引擎</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_streaming-d9529e4376" class="topicref" data-id="chap7_tutorials_streaming" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_streaming-d9529e4376-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_join_engine.html" id="chap7_tutorials_streaming-d9529e4376-link"><span class="keyword label">内置多数据源流式关联引擎</span></a></div></div></li><li role="treeitem"><div data-tocid="streamha-d9529e4653" class="topicref" data-id="streamha" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_ha.html" id="streamha-d9529e4653-link"><span class="keyword label">流数据高可用</span></a></div></div></li><li role="treeitem"><div data-tocid="流计算状态监控-d9529e4700" class="topicref" data-id="流计算状态监控" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_monitor.html" id="流计算状态监控-d9529e4700-link">流计算状态监控</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="replay-d9529e4746" class="topicref" data-id="replay" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action replay-d9529e4746-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_replay.html" id="replay-d9529e4746-link"><span class="keyword label">历史数据回放</span></a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="流批一体功能-d9529e4931" class="topicref" data-id="流批一体功能" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action 流批一体功能-d9529e4931-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_batch.html" id="流批一体功能-d9529e4931-link"><span class="keyword label">流批一体</span></a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="tocId-d9529e5024" class="topicref" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action tocId-d9529e5024-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_api_python.html" id="tocId-d9529e5024-link">实时流数据接入</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="dolphindb-apipython-d9529e5025" class="topicref" data-id="dolphindb-apipython" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_api_python.html" id="dolphindb-apipython-d9529e5025-link">DolphinDB API：Python</a></div></div></li><li role="treeitem" aria-expanded="true"><div data-tocid="行情数据插件nsq-d9529e5071" class="topicref" data-id="行情数据插件nsq" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action 行情数据插件nsq-d9529e5071-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/nsq.html" id="行情数据插件nsq-d9529e5071-link">行情数据插件：NSQ</a></div></div><ul role="group" class="navbar-nav nav-list"><li role="treeitem"><div data-tocid="nsq-d9529e5117" class="topicref" data-id="nsq" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/nsq/nsq.html" id="nsq-d9529e5117-link">NSQ</a></div></div></li><li role="treeitem" class="active"><div data-tocid="easynsq-实时行情数据接入功能模块-d9529e5163" class="topicref" data-id="easynsq-实时行情数据接入功能模块" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../modules/easyNSQ/easynsq.html" id="easynsq-实时行情数据接入功能模块-d9529e5163-link">easyNSQ 实时行情数据接入功能模块</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e5209" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e5209-link" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/amdquote/amdquote.html" id="tocId-d9529e5209-link">行情数据插件：amdQuote</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e5302" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e5302-link" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/insight/insight.html" id="tocId-d9529e5302-link">行情数据插件：INSIGHT</a></div></div></li><li role="treeitem"><div data-tocid="ctp-d9529e5349" class="topicref" data-id="ctp" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/ctp.html" id="ctp-d9529e5349-link">CTP</a></div></div></li><li role="treeitem"><div data-tocid="mdl-d9529e5395" class="topicref" data-id="mdl" data-state="leaf"><span role="button" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/mdl.html" id="mdl-d9529e5395-link">MDL</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="cep-d9529e5442" class="topicref" data-id="cep" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action cep-d9529e5442-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/cep.html" id="cep-d9529e5442-link">复杂事件处理（CEP）引擎</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e5995" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e5995-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/local_sub.html" id="tocId-d9529e5995-link">流处理结果交互方式</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e6184" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e6184-link" class="wh-expand-btn"></span><div class="title"><a href="../../stream/str_altair.html" id="tocId-d9529e6184-link">数据可视化工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e6277" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e6277-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/streaming_auto_sub.html" id="tocId-d9529e6277-link">金融场景应用案例</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e6969" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e6969-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/ddb_str_app_iot.html" id="tocId-d9529e6969-link">物联网场景应用案例</a></div></div></li></ul></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e7385" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e7385-link" class="wh-expand-btn"></span><div class="title"><a href="../../db_distr_comp/db_oper/import_data.html" id="tocId-d9529e7385-link">数据迁移</a><div class="wh-tooltip"><p class="shortdesc">如何从不同数据源向 DolphinDB 迁移数据</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap7_tutorials_system_management-d9529e7812" class="topicref" data-id="chap7_tutorials_system_management" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap7_tutorials_system_management-d9529e7812-link" class="wh-expand-btn"></span><div class="title"><a href="../../sys_man/om_intro.html" id="chap7_tutorials_system_management-d9529e7812-link"><span class="keyword label">系统运维</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 的系统运维功能及方法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_language_resources-d9529e16490" class="topicref" data-id="about_language_resources" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_language_resources-d9529e16490-link" class="wh-expand-btn"></span><div class="title"><a href="../../progr/progr_intro.html" id="about_language_resources-d9529e16490-link"><span class="keyword label">编程语言</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 编程基本概念与方法、SQL 在 DolphinDB 的应用</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="functions_references-d9529e26503" class="topicref" data-id="functions_references" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action functions_references-d9529e26503-link" class="wh-expand-btn"></span><div class="title"><a href="../../funcs/funcs_intro.html" id="functions_references-d9529e26503-link"><span class="keyword label">函数参考</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 函数分类、语法、详解及示例</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="api_protocol-d9529e86456" class="topicref" data-id="api_protocol" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action api_protocol-d9529e86456-link" class="wh-expand-btn"></span><div class="title"><a href="../../api/connapi_intro.html" id="api_protocol-d9529e86456-link"><span class="keyword label">连接器 &amp; API</span></a><div class="wh-tooltip"><p class="shortdesc">面向不同编程语言的 DolphinDB API 及连接器，相关协议和用法</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="chap6_plugin-d9529e91976" class="topicref" data-id="chap6_plugin" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action chap6_plugin-d9529e91976-link" class="wh-expand-btn"></span><div class="title"><a href="../../plugins/plg_intro.html" id="chap6_plugin-d9529e91976-link"><span class="keyword label">插件</span></a><div class="wh-tooltip"><p class="shortdesc">多个应用场景的插件使用说明和插件开发指导</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="third_party-d9529e94749" class="topicref" data-id="third_party" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action third_party-d9529e94749-link" class="wh-expand-btn"></span><div class="title"><a href="../../third_party.html" id="third_party-d9529e94749-link">第三方工具</a></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="about_tutorials-d9529e94980" class="topicref" data-id="about_tutorials" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_tutorials-d9529e94980-link" class="wh-expand-btn"></span><div class="title"><a href="../../tutorials/about_tutorials.html" id="about_tutorials-d9529e94980-link"><span class="keyword label">教程</span></a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 产品使用教程</p></div></div></div></li><li role="treeitem" aria-expanded="false"><div data-tocid="tocId-d9529e101769" class="topicref" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action tocId-d9529e101769-link" class="wh-expand-btn"></span><div class="title"><a href="../../rn/server/3_00_1.html" id="tocId-d9529e101769-link">版本说明</a><div class="wh-tooltip"><p class="shortdesc">DolphinDB 版本发布历史</p></div></div></div></li></ul></div>
		                        
                            </div>
                        </nav>
                    
                    
                    <div class="col-lg-7 col-md-9 col-sm-12" id="wh_topic_body">
                        <button id="wh_close_publication_toc_button" class="close-toc-button d-none" aria-label="Toggle publishing table of content" aria-controls="wh_publication_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        <button id="wh_close_topic_toc_button" class="close-toc-button d-none" aria-label="Toggle topic table of content" aria-controls="wh_topic_toc" aria-expanded="true">
                            <span class="close-toc-icon-container">
                                <span class="close-toc-icon"></span>     
                            </span>
                        </button>
                        
                        <div class=" wh_topic_content body "><main role="main"><article class="- topic/topic topic" role="article" aria-labelledby="ariaid-title1"><h1 class="- topic/title title topictitle1" id="ariaid-title1">easyNSQ 实时行情数据接入功能模块</h1><div class="- topic/body body"><p class="- topic/p p">为了实时获取 level-2 行情数据，DolphinDB 对接恒生 NSQ 极速行情服务软件，开发了能够获取上海和深圳市场行情数据的 NSQ 插件。安装好插件后，用户需要创建用于接收实时数据的持久化共享流数据表和分区表，并且发起相关订阅。为了方便用户快速搭建 NSQ 实时行情数据的流计算环境，DolphinDB 开发了 DolphinDBModules::easyNSQ 模块（简称 easyNSQ 模块），主要用于 NSQ 实时行情数据的自动化接收和存储。目前已经支持的数据源包括上海和深圳市场的：</p><ul class="- topic/ul ul"><li class="- topic/li li">现货逐笔委托行情主推回调（OnRtnSecuTransactionEntrustData-&gt;orders）</li><li class="- topic/li li">现货逐笔成交行情主推回调（OnRtnSecuTransactionTradeData-&gt;trade）</li><li class="- topic/li li">现货深度行情主推回调（OnRtnSecuDepthMarketData-&gt;snapshot）</li></ul><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：DolphinDB 仅提供对接 HSNsqApi 的 NSQ 插件，数据源和接入服务可咨询数据服务商或证券公司。</p><p class="- topic/p p">NSQ 插件目前支持版本：release200, release130。本模块基于 DolphinDB 2.00.9.4 开发，请使用 2.00.9.4 及以上版本的 DolphinDB。</p></div><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title2" id="1-安装说明"><h2 class="- topic/title title topictitle2" id="ariaid-title2">1. 安装说明</h2><div class="- topic/body body"><p class="- topic/p p">使用 DolphinDBModules::easyNSQ 模块前，请确保在 DolphinDB 服务器上正确安装和加载了 NSQ 插件和 DolphinDBModules::easyNSQ 模块文件。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：对于之前从未使用过 DolphinDB 插件和模块功能的读者，推荐在阅读以下章节的同时阅读 <a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq" target="_blank" rel="external noopener">NSQ 插件官方文档</a>以及 <a class="- topic/xref xref" href="../../tutorials/module_tutorial.html">DolphinDB 模块教程</a>。</p><p class="- topic/p p">easyNSQ 模块依赖于 NSQ 插件，请确保先加载 NSQ 插件，再加载 easyNSQ 模块。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title3" id="11-安装-nsq-插件"><h3 class="- topic/title title topictitle3" id="ariaid-title3">1.1. 安装 NSQ 插件</h3><div class="- topic/body body"><p class="- topic/p p">用户可以根据正在使用 DolphinDB server 版本和操作系统，从 github 或 gitee 上的 DolphinDB 官方代码仓库 下载已经编译好的 NSQ 插件，例如 64位 Linux 操作系统上与 DolphinDB 2.00.9.4适配的 NSQ 插件可以从  <a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq/bin/linux" target="_blank" rel="external noopener">release 200.9分支</a>下载。如果有手动编译插件的需求，可以参考 <a class="- topic/xref xref" href="https://gitee.com/dolphindb/DolphinDBPlugin/tree/release200.9/nsq" target="_blank" rel="external noopener">NSQ 插件官方文档</a>的说明。</p><p class="- topic/p p">安装插件需要重启 DolphinDB。以 Linux 单节点为例，将编译好的 NSQ 插件安装到路径 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/plugins/nsq/</em>。</p><p class="- topic/p p">将 NSQ 插件的路径添加到 Linux 环境变量：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>export LD_LIBRARY_PATH=/DolphinDB/server/plugins/nsq/:$LD_LIBRARY_PATH </code></pre><p class="- topic/p p">然后启动 DolphinDB：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>nohup ./dolphindb -console 0 &gt; single.nohup 2&gt;&amp;1 &amp;</code></pre><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">手动加载插件</strong></li></ul><p class="- topic/p p">节点启动后，通过 DolphinDB GUI 连接该节点，运行以下代码加载插件：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>loadPlugin("/DolphinDB/server/plugins/nsq/PluginNsq.txt")</code></pre><p class="- topic/p p">任意会话中成功加载插件，即可在当前节点的其他会话中使用插件。若节点重启，则需要重新加载插件。DolphinDB 可以通过配置自动加载指定的插件。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">自动加载插件</strong></li></ul><p class="- topic/p p">在配置文件 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 中加上：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>preloadModules=plugins::nsq</code></pre><p class="- topic/p p">然后启动 DolphinDB，系统自动会到 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/plugins/</em> 目录下加载插件。</p><ul class="- topic/ul ul"><li class="- topic/li li"><strong class="+ topic/ph hi-d/b ph b">验证加载</strong></li></ul><p class="- topic/p p">插件加载好后，可以运行以下代码来验证 NSQ 插件安装成功：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>nsq::getSubscriptionStatus()</code></pre><p class="- topic/p p">该插件函数用于获取当前 NSQ 行情数据连接以及订阅状态，返回如下表格：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>topicType     isConnected isSubscribed processedMsgCount lastErrMsg failedMsgCount lastFailedTimesconnecttamp
-------------- ----------- ------------ ----------------- ---------- -------------- -------------------
(snapshot, sh) true        true         0                            0
(snapshot, sz) true        true         0                            0
(trade, sh)    true        true         0                            0
(trade, sz)    true        true         0                            0
(orders, sh)    true        true         0                            0
(orders, sz)    true        true         0                            0</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title4" id="12-安装-easynsq-模块"><h3 class="- topic/title title topictitle3" id="ariaid-title4">1.2. 安装 easyNSQ 模块</h3><div class="- topic/body body"><p class="- topic/p p">以 Linux 单节点为例，将模块文件拷贝到 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/modules/</em> 目录下，即模块脚本 <em class="+ topic/ph hi-d/i ph i">easyNSQ.dos</em> 的路径应为 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/modules/DolphinDBModules/easyNSQ.dos</em></p><p class="- topic/p p">模块文件安装好，运行以下代码加载模块：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>use DolphinDBModules::easyNSQ</code></pre><p class="- topic/p p">如果没有返回错误信息，则说明 easyNSQ 模块已经成功加载。</p><p class="- topic/p p">安装插件时常见的错误信息如下：</p><ol class="- topic/ol ol"><li class="- topic/li li">插件与 DolphinDB server 版本不匹配，需要改用适配 server 版本的插件：<code class="+ topic/ph pr-d/codeph ph codeph">The first line must be the module name, dynamic library file name and version, separated by comma</code> 或 <code class="+ topic/ph pr-d/codeph ph codeph">Failed to loadPlugin file [...] for the plugin version [...] is not same to the server version [...]</code></li><li class="- topic/li li">没有将 NSQ 插件的路径添加到 Linux 环境变量，需要添加环境变量再重启 DolphinDB server ：<code class="+ topic/ph pr-d/codeph ph codeph">Couldn't load the dynamic library [.../libPluginNsq.so]: libHSNsqApi.so: cannot open shared object file: No such file or directory [...]</code></li></ol><p class="- topic/p p">如果遇到其他问题，可以在社区中交流或者联系 DolphinDB 的技术支持工程师。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title5" id="13-使用示例"><h3 class="- topic/title title topictitle3" id="ariaid-title5">1.3. 使用示例</h3><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第一步</strong>：用户准备好 nsq 行情数据服务器配置文件 <em class="+ topic/ph hi-d/i ph i">sdk_config.ini</em>，以及编译好的 NSQ 插件。上传到 DolphinDB server 所在的服务器上。下图中，配置文件和 NSQ 插件都放置在 <em class="+ topic/ph hi-d/i ph i">server/plugins/nsq/</em> 路径。</p><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_1.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第二步</strong>：将模块文件 <em class="+ topic/ph hi-d/i ph i">easyNSQ.dos</em> 上传到 DolphinDB server 所在的服务器上，放在 <em class="+ topic/ph hi-d/i ph i">server/modules/DolphinDBModules/</em> 路径下（如果 <em class="+ topic/ph hi-d/i ph i">modules</em> 目录下 <em class="+ topic/ph hi-d/i ph i">DolphinDBModules</em> 文件夹不存在，需要手动创建 <em class="+ topic/ph hi-d/i ph i">DolphinDBModules</em> 文件夹）</p><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_2.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第三步</strong>：将 NSQ 插件的路径添加到 Linux 环境变量，然后启动 DolphinDB server。</p><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_3.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第四步</strong>：打开浏览器，在地址栏输入 DolphinDB server 的 ip 地址与端口，连接到该节点的 web 编辑页面。点击右上角的用户按钮进行登录。</p><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_4.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第五步</strong>：在编辑器页面，执行以下脚本订阅行情数据和落库存储：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 文件地址变量
pluginPath = "/home/appadmin/mqzhu/jit_server/server/plugins/nsq/PluginNsq.txt"
configFilePath = "/home/appadmin/mqzhu/jit_server/server/plugins/nsq/sdk_config.ini"

// 加载插件
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }
go

// 加载模块
use DolphinDBModules::easyNSQ
go

// 初始化环境
iniNsqEnv()
iniNsqDfs()
go

// 拉起订阅
subscribeNsq(configFilePath, "orders", ["sh","sz"], saveToDfs=true, merge=true)
subscribeNsq(configFilePath, "trade", ["sh","sz"], saveToDfs=true, merge=true)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], saveToDfs=true, merge=true)</code></pre></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第六步</strong>：查询订阅状态</p><p class="- topic/p p">使用插件函数 <code class="+ topic/ph pr-d/codeph ph codeph">nsq::getSubscriptionStatus()</code> 可以获取 NSQ 行情的订阅状态。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>nsq::getSubscriptionStatus()</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_5.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第七步</strong>：查询流数据表。</p><p class="- topic/p p">（1）逐笔委托</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockOrdersStream limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_6.png"/><br/><p class="- topic/p p">（2）逐笔成交</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockTradeStream limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_7.png"/><br/><p class="- topic/p p">（3）L2 快照</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from nsqStockSnapshotStream limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_8.png"/><br/></li><li class="- topic/li li"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">第八步</strong>：查询分区表</p><p class="- topic/p p">（1）逐笔委托</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://nsqStockOrders", "orders") limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_9.png"/><br/><p class="- topic/p p">（2）逐笔成交</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://nsqStockTrade", "trade") limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_10.png"/><br/><p class="- topic/p p">（3）L2 快照</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>select * from loadTable("dfs://nsqStockSnapshot", "snapshot") limit 10</code></pre><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/1_11.png"/><br/></li></ul></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title6" id="2-实时行情数据存储说明"><h2 class="- topic/title title topictitle2" id="ariaid-title6">2. 实时行情数据存储说明</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title7" id="21-接收行情数据到流数据表"><h3 class="- topic/title title topictitle3" id="ariaid-title7">2.1. 接收行情数据到流数据表</h3><div class="- topic/body body"><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/2_1.png"/><br/><p class="- topic/p p">用户指定希望接收的行情数据源（逐笔委托、逐笔成交或L2快照），easyNSQ 模块会根据用户的需要创建不同的持久化共享流数据表，并通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据写入持久化共享流数据表中。</p><p class="- topic/p p">持久化共享流数据表是进行共享并做了持久化处理的流数据表。将流数据表共享是为了让该流数据表在连接当前节点其它会话中也可见。比如通过 C++ API 实时查询流数据表的会话与定义流数据表的会话不会是同一个，如果不将流数据表共享，查询的需求就无法实现。</p><p class="- topic/p p">对流数据表进行持久化的目的主要有两个：一是控制该表的最大内存占用，通过设置 <code class="+ topic/ph pr-d/codeph ph codeph">enableTableShareAndPersistence</code> 函数中的 <em class="+ topic/ph hi-d/i ph i">cacheSize</em> 参数，可以控制流数据表在内存中最多保留多少条记录，超出的部分被写入持久化数据文件、从内存中清除，进而控制该表的最大内存占用；二是在节点异常关闭的极端情况下，可以从持久化数据文件中恢复已经写入流数据表但是未消费的数据，保证流数据“至少消费一次”的需求。流数据表持久化采用异步的方式进行，对流数据表写入吞吐量几乎没有影响。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><p class="- topic/p p">虽然名字里带有“持久化”，但是持久化流数据表并不能满足行情数据持久化存储的需求。</p><p class="- topic/p p">首先，流数据表持久化到磁盘上的数据的规模在增长到一定大小，或者超过一定时间之后，会触发系统的回收校验，并不能做到真正的永久化存储。</p><p class="- topic/p p">其次，流数据表持久化到磁盘上的数据并没有进行结构化的存储，查询和更新的效率比不上在分区表中存储的数据，不适合用于实际生产环境。</p><p class="- topic/p p">如果用户有将行情数据在磁盘上进行持久化存储的需求，请阅读本篇文档<a class="- topic/xref xref" href="#%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%B0%E5%88%86%E5%8C%BA%E8%A1%A8">接收行情数据到流数据表，并持久化到分区表</a>及<a class="- topic/xref xref" href="#%E5%90%88%E5%B9%B6%E5%AD%98%E5%82%A8%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">合并存储上海和深圳市场行情数据</a>两小节的方案说明。</p><p class="- topic/p p">用户可以为这些持久化的共享流数据表指定名字，也可以选择使用模块默认的表名。在用户没有指定表名的情况下，模块对持久化共享流数据表的命名如下：</p><ul class="- topic/ul ul"><li class="- topic/li li">上交所逐笔委托：流数据表名称为 ”nsqStockOrdersSHStream“。</li><li class="- topic/li li">深交所逐笔委托：流数据表名称为 ”nsqStockOrdersSZStream"。</li><li class="- topic/li li">上交所逐笔成交：流数据表名称为 “nsqStockTradeSHStream"。</li><li class="- topic/li li">深交所逐笔成交：流数据表名称为 ”nsqStockTradeSZStream"。</li><li class="- topic/li li">上交所 L2 所快照：流数据表名称为 “nsqStockSnapshotSHStream"。</li><li class="- topic/li li">深交所 L2 所快照：流数据表名称为 ”nsqStockSnapshotSZStream“。</li></ul><p class="- topic/p p">基于过往项目的实践，推荐如下的持久化共享流数据表参数配置方案：</p><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="21-接收行情数据到流数据表__entry__1"><strong class="+ topic/ph hi-d/b ph b">配置项</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="21-接收行情数据到流数据表__entry__2"><strong class="+ topic/ph hi-d/b ph b">配置值</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">asynWrite</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">true</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">compress</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">true</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">cacheSize</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">500,000</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">preCache</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">100,000</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">retentionMinutes</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">1440</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__1">flushMode</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="21-接收行情数据到流数据表__entry__2">0</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title8" id="22-接收行情数据到流数据表并持久化到分区表"><h3 class="- topic/title title topictitle3" id="ariaid-title8">2.2. 接收行情数据到流数据表，并持久化到分区表</h3><div class="- topic/body body"><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/2_2.png"/><br/><p class="- topic/p p">easyNSQ 模块还支持将实时行情数据写入分区表进行持久化的存储。在此种订阅模式下，用户指定希望接收的行情数据源（逐笔委托、逐笔成交或 L2 快照），easyNSQ 模块会通过 NSQ 插件订阅交易所数据，将上海和深圳市场的实时行情数据分别写入持久化共享流数据表，然后通过 DolphinDB 内置的订阅-发布功能，将流数据表的增量数据实时写入分区表。</p><p class="- topic/p p">用户可以指定用于存储行情数据的数据库和分区表的名字。在用户没有指定数据库和分区表名字的情况下，模块会使用默认名字的数据库和分区表：</p><ul class="- topic/ul ul"><li class="- topic/li li">上交所逐笔委托：数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "ordersSH"。</li><li class="- topic/li li">深交所逐笔委托：数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "ordersSZ"。</li><li class="- topic/li li">上交所逐笔成交：数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "tradeSH"。</li><li class="- topic/li li">深交所逐笔成交：数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "tradeSZ"。</li><li class="- topic/li li">上交所 L2 所快照：数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshotSH"。</li><li class="- topic/li li">深交所 L2 所快照：数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshotSZ"。</li></ul><p class="- topic/p p">easyNSQ 模块会将同一行情数据源的数据放在同一个数据库中，比如上交所逐笔委托和深交所逐笔委托数据都会存储在数据库 "dfs://nsqStockOrders"。这样的做法，部分是出于业务逻辑的考虑，即后续往往会对上交所和深交所的逐笔委托数据进行同样的处理操作；此外，NSQ 插件已经对上海和深圳市场的行情数据表结构做了统一处理，上交所和深交所的数据适用于同一套数据库分区规则，可以存储在同一个数据库中。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：</p><p class="- topic/p p">出于数据安全的考虑，easyNSQ 模块在存储数据到分区表的过程中，如果发现要做写入的分区表不存在，会创建新分区表；如果发现同名分区表已存在，会直接向该分区表写入数据，而不是进行删除和重新创建。</p><p class="- topic/p p">因此，用户在使用 easyNSQ 模块时，需要注意：如果已存在分区表的表结构与行情数据结构不同，写入数据的时候就会抛出异常。建议用户使用 easyNSQ 模块时，在订阅行情数据前对用于行情数据入库存储的分区表进行检查。</p><p class="- topic/p p">基于过往项目的实践，对分区表确定了如下的分区方案：</p><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="22-接收行情数据到流数据表并持久化到分区表__entry__1"><strong class="+ topic/ph hi-d/b ph b">行情数据类型</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="22-接收行情数据到流数据表并持久化到分区表__entry__2"><strong class="+ topic/ph hi-d/b ph b">分区方案</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="22-接收行情数据到流数据表并持久化到分区表__entry__3"><strong class="+ topic/ph hi-d/b ph b">分区列</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="22-接收行情数据到流数据表并持久化到分区表__entry__4"><strong class="+ topic/ph hi-d/b ph b">排序列</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__1">逐笔委托（orders）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__1">逐笔成交（trade）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__1">L2 快照（snapshot）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 25 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="22-接收行情数据到流数据表并持久化到分区表__entry__4">InstrumentID + UpdateTime</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title9" id="23-合并存储上海和深圳市场行情数据"><h3 class="- topic/title title topictitle3" id="ariaid-title9">2.3. 合并存储上海和深圳市场行情数据</h3><div class="- topic/body body"><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/2_3.png"/><br/><p class="- topic/p p">easyNSQ 模块支持将上海和深圳市场的实时行情数据进行合并处理。用户可以指定用于接收实时数据的流数据表的名字，以及用于存储行情数据的数据库和分区表的名字。在用户没有进行指定的情况下，模块会使用默认的名字：</p><ul class="- topic/ul ul"><li class="- topic/li li">逐笔委托：流数据表名称为 “nsqStockOrdersStream”， 数据库名称为 "dfs://nsqStockOrders"，分区表名称为 "orders"。</li><li class="- topic/li li">逐笔成交：流数据表名称为 “nsqStockTradeStream”，数据库名称为 "dfs://nsqStockTrade"，分区表名称为 "trade"。</li><li class="- topic/li li">L2 所快照：流数据表名称为 “nsqStockSnapshotStream”，数据库名称为 "dfs://nsqStockSnapshot"，分区表名称为 "snapshot"。</li></ul><p class="- topic/p p">对于沪深行情数据合并存储，持久化共享流数据表的参数配置方案同沪深行情分开存储的参数配置方案。而分区表的分区方案如下：</p><div class="table-container"><table class="- topic/table table" data-cols="4"><caption></caption><colgroup><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="23-合并存储上海和深圳市场行情数据__entry__1"><strong class="+ topic/ph hi-d/b ph b">行情数据类型</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="23-合并存储上海和深圳市场行情数据__entry__2"><strong class="+ topic/ph hi-d/b ph b">分区方案</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="23-合并存储上海和深圳市场行情数据__entry__3"><strong class="+ topic/ph hi-d/b ph b">分区列</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="23-合并存储上海和深圳市场行情数据__entry__4"><strong class="+ topic/ph hi-d/b ph b">排序列</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__1">逐笔委托（orders）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__1">逐笔成交（trade）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + TransactTime</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__1">L2 快照（snapshot）</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__2">组合分区：时间维度按天分区 + 证券代码维度 HASH 50 分区</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__3">TradeDate + InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="23-合并存储上海和深圳市场行情数据__entry__4">InstrumentID + UpdateTime</td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title10" id="3-easynsq-模块接口介绍"><h2 class="- topic/title title topictitle2" id="ariaid-title10">3. easyNSQ 模块接口介绍</h2><div class="- topic/body body"></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title11" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames"><h3 class="- topic/title title topictitle3" id="ariaid-title11">3.1. easyNSQ::subscribeNsq(configFilePath, dataSource, [markets], [merge], [saveToDfs], [streamTableNames], [dbPath], [tableNames])</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">configFilePath</em> ：一个字符串，表示 NSQ 行情服务器配置文件 <em class="+ topic/ph hi-d/i ph i">sdk_config.ini</em> 的绝对路径；若拷贝配置文件至 <em class="+ topic/ph hi-d/i ph i">dolphindb server</em>，则可以是相对于 <em class="+ topic/ph hi-d/i ph i">dolphindb server</em> 的相对路径。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dataSource</em> ：一个字符串，表示行情的类型，可以是以下值：</p><ul class="- topic/ul ul"><li class="- topic/li li">“orders”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li><li class="- topic/li li">”trade”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li><li class="- topic/li li">“snapshot”：表示回调函数 OnRtnSecuDepthMarketData（主推 - 现货深度行情）获取的行情数据。</li></ul><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">markets</em>： 可选参数。一个字符串或字符串向量，表示行情市场，上海证券交易所用 <code class="+ topic/ph pr-d/codeph ph codeph">sh</code> 表示，深圳证券交易所用 <code class="+ topic/ph pr-d/codeph ph codeph">sz</code> 表示，参数默认值为 <code class="+ topic/ph pr-d/codeph ph codeph">["sz", "sh"]</code>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">merge</em>： 可选参数。一个布尔值，表示是否合并处理上海和深圳市场的行情数据，参数默认值为 false。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">saveToDfs</em>： 可选参数。一个布尔值，表示是否持久化存储到分区表，参数默认值为 false。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">streamTableNames</em>： 可选参数。一个字符串或字符串向量，表示用于接收实时数据的流数据表的名字，<strong class="+ topic/ph hi-d/b ph b">将使用这个名字创建新的持久化共享流数据表</strong>。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dbPath</em>： 可选参数。一个字符串，表示用于持久化存储数据的数据库的名字。若数据库不存在，将创建新数据库。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">tableNames</em> ：可选参数。一个字符串或字符串向量，表示用于持久化存储数据的分区表的名字。若分区表不存在，将创建新分区表。<strong class="+ topic/ph hi-d/b ph b">若同名分区表已存在，则直接向该表写入</strong>。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">自动化接收和存储 NSQ 实时行情数据。对应行情市场和行情类型的实时数据会被接收到持久化共享流数据表，并根据用户需要，同时将数据持久化存储到分区表。
函数执行成功会返回流数据表的名字（如果 <em class="+ topic/ph hi-d/i ph i">saveToDfs</em> 为 true，还会返回数据库和分区表的名字），若执行不成功则返回 NULL。</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>streamTableNames = subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true)
streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true)</code></pre><p class="- topic/p p">用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">streamTableNames</em>、<em class="+ topic/ph hi-d/i ph i">dbPath</em> 和 <em class="+ topic/ph hi-d/i ph i">tableNames</em> 时，easyNSQ 模块默认使用以下名字：</p><div class="table-container"><table class="- topic/table table" data-cols="5"><caption></caption><colgroup><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry colsep-0 rowsep-0" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">行情类型</th><th class="- topic/entry entry colsep-0 rowsep-0" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">行情市场</th><th class="- topic/entry entry colsep-0 rowsep-0" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">流数据表</th><th class="- topic/entry entry colsep-0 rowsep-0" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">数据库</th><th class="- topic/entry entry colsep-0 rowsep-0" id="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">分区表</th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockOrdersSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">ordersSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockOrdersSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">ordersSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">orders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockOrdersStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockOrders</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">orders</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockTradeSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">tradeSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockTradeSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">tradeSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">trade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockTradeStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockTrade</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">trade</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sh</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockSnapshotSHStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">snapshotSH</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">sz</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockSnapshotSZStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">snapshotSZ</td></tr><tr class="- topic/row"><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__1">snapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__2">合并存储</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__3">nsqStockSnapshotStream</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__4">dfs://nsqStockSnapshot</td><td class="- topic/entry entry colsep-0 rowsep-0" headers="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames__entry__5">snapshot</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title12" id="32-easynsqclosensqconnection"><h3 class="- topic/title title topictitle3" id="ariaid-title12">3.2. easyNSQ::closeNsqConnection()</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p">无</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">断开与行情服务器的连接，本函数执行后会取消所有已建立的对实时行情数据的订阅。</p><p class="- topic/p p">函数执行成功返回 true，若有执行异常则会返回 false。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title13" id="33-easynsqininsqenvstreamtablenames"><h3 class="- topic/title title topictitle3" id="ariaid-title13">3.3. easyNSQ::iniNsqEnv([streamTableNames])</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">streamTableNames</em>：可选参数。一个字符串或字符串向量，表示要清理的流数据表。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">初始化流计算环境，清理指定的流数据表及其订阅。若用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">streamTableNames</em>，则会根据 easyNSQ 模块默认使用的流数据表进行清理，请参考 <code class="+ topic/ph pr-d/codeph ph codeph">easyNSQ::subscribeNsq</code> 的函数详情说明。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：<code class="+ topic/ph pr-d/codeph ph codeph">iniNsqEnv</code> 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的流数据表名字，对同名流数据表及其订阅进行清理。请用户注意这一行为可能会导致数据被误删除。</p></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title14" id="34-easynsqininsqdfsdbname-tbnames"><h3 class="- topic/title title topictitle3" id="ariaid-title14">3.4. easyNSQ::iniNsqDfs([dbName], [tbNames])</h3><div class="- topic/body body"><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">参数</strong></p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">dbName</em>： 可选参数。一个字符串，表示要清理的分区表的数据路径。</p><p class="- topic/p p"><em class="+ topic/ph hi-d/i ph i">tbNames</em> ：可选参数。一个字符串或字符串向量，表示要清理的分区表的表名。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">函数详情</strong></p><p class="- topic/p p">初始化环境，清理已指定的分区表。若用户没有使用可选参数 <em class="+ topic/ph hi-d/i ph i">dbName</em> 和 <em class="+ topic/ph hi-d/i ph i">tbNames</em>，则会根据 easyNSQ 模块默认使用的分区表进行清理，请参考 <code class="+ topic/ph pr-d/codeph ph codeph">easyNSQ::subscribeNsq</code> 的函数详情说明。</p><p class="- topic/p p"><strong class="+ topic/ph hi-d/b ph b">注意</strong>：<code class="+ topic/ph pr-d/codeph ph codeph">iniNsqDfs</code> 函数在没有传入参数时，会根据 easyNSQ 模块默认使用的数据库路径和分区表名字，对分区表进行清理。请用户注意这一行为可能会导致数据被误删除。</p></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title15" id="4-easynsq-模块使用示例"><h2 class="- topic/title title topictitle2" id="ariaid-title15">4. easyNSQ 模块使用示例</h2><div class="- topic/body body"><p class="- topic/p p">本章节为四个不同的使用场景提供了脚本示例。</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title16" id="41-例1-接收深圳市场-snapshot-实时行情数据"><h3 class="- topic/title title topictitle3" id="ariaid-title16">4.1. 例1. 接收深圳市场 snapshot 实时行情数据</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 初始化化境并拉起订阅
iniNsqEnv()
streamTableNames = subscribeNsq(configFilePath, "snapshot", "sz", saveToDfs=false)

// 检查订阅情况
nsq::getSubscriptionStatus()
select count(*) from objByName(streamTableNames[0])
select top 100 * from objByName(streamTableNames[0])

// 停止订阅
nsq::unsubscribe("snapshot", "sz")
nsq::getSubscriptionStatus()</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title17" id="42-例2-接收上海市场所有类型实时行情数据并持久化存储"><h3 class="- topic/title title topictitle3" id="ariaid-title17">4.2. 例2. 接收上海市场所有类型实时行情数据，并持久化存储</h3><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)
// 调用模块
use DolphinDBModules::easyNSQ

configFilePath = "&lt;your_path_to&gt;/nsq_sdk_config.ini";

// 初始化环境并拉起订阅
iniNsqEnv()
iniNsqDfs()
subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true)
subscribeNsq(configFilePath, "trade", "sh", saveToDfs=true)
subscribeNsq(configFilePath, "snapshot", "sh", saveToDfs=true)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersSHStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockTradeSHStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockSnapshotSHStream","easyNSQ_saveToDfsTable")
select count(*) from objByName("nsqStockOrdersSHStream")
select count(*) from loadTable("dfs://nsqStockOrders", "ordersSH")
select count(*) from objByName("nsqStockTradeSHStream")
select count(*) from loadTable("dfs://nsqStockTrade", "tradeSH")
select count(*) from objByName("nsqStockSnapshotSHStream")
select count(*) from loadTable("dfs://nsqStockSnapshot", "snapshotSH")

// 仅停止 orders 行情数据的订阅
nsq::unsubscribe("orders", "sh")
nsq::getSubscriptionStatus()

// 停止所有订阅
closeNsqConnection()
nsq::getSubscriptionStatus()</code></pre></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title18" id="43-例3-停止所有订阅后重新接收上海市场-orders-数据"><h3 class="- topic/title title topictitle3" id="ariaid-title18">4.3. 例3. 停止所有订阅后，重新接收上海市场 orders 数据</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title19" id="431-保留之前持久化的数据"><h4 class="- topic/title title topictitle4" id="ariaid-title19">4.3.1. 保留之前持久化的数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)

pluginPath = "&lt;your_path&gt;/plugins/nsq/PluginNsq.txt"
configFilePath = "&lt;your_path&gt;/nsq_sdk_config.ini";
// 确保 nsq 插件加载成功
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }

// 调用模块
use DolphinDBModules::easyNSQ

// 初始化流环境并拉起订阅
iniNsqEnv("nsqStockOrdersSHStream")
streamTableNames, dbPath, tableNames = subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,streamTableNames[0],"easyNSQ_saveToDfsTable")
select count(*) from objByName(streamTableNames[0])
select count(*) from loadTable(dbPath, tableNames[0])

// 停止订阅
nsq::unsubscribe("orders", "sh")</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title20" id="432-不保留之前持久化的数据"><h4 class="- topic/title title topictitle4" id="ariaid-title20">4.3.2. 不保留之前持久化的数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)

pluginPath = "&lt;your_path&gt;/plugins/nsq/PluginNsq.txt"
configFilePath = "&lt;your_path&gt;/nsq_sdk_config.ini";
// 确保 nsq 插件加载成功
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }

// 调用模块
use DolphinDBModules::easyNSQ

// 初始化环境并拉起订阅
iniNsqEnv("nsqStockOrdersSHStream")
iniNsqDfs("dfs://nsqStockOrders", "ordersSH")
subscribeNsq(configFilePath, "orders", "sh", saveToDfs=true)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersSHStream","easyNSQ_saveToDfsTable")
select count(*) from objByName("nsqStockOrdersSHStream")
select count(*) from loadTable("dfs://nsqStockOrders", "ordersSH")

// 停止订阅
nsq::unsubscribe("orders", "sh")</code></pre></div></article></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title21" id="44-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储"><h3 class="- topic/title title topictitle3" id="ariaid-title21">4.4. 例4. 接收上海和深圳市场所有类型的实时行情数据，并持久化存储</h3><div class="- topic/body body"></div><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title22" id="441-合并处理上海和深圳市场数据"><h4 class="- topic/title title topictitle4" id="ariaid-title22">4.4.1. 合并处理上海和深圳市场数据</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)

pluginPath = "&lt;your_path&gt;/plugins/nsq/PluginNsq.txt"
configFilePath = "&lt;your_path&gt;/nsq_sdk_config.ini";
// 确保 nsq 插件加载成功
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }

// 调用模块
use DolphinDBModules::easyNSQ

// 初始化环境并拉起订阅
iniNsqEnv()
iniNsqDfs()
subscribeNsq(configFilePath, "orders", ["sh","sz"], merge=true, saveToDfs=true)
subscribeNsq(configFilePath, "trade", ["sh","sz"], merge=true, saveToDfs=true)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], merge=true, saveToDfs=true)

// 检查订阅情况
nsq::getSubscriptionStatus()
existsSubscriptionTopic(,"nsqStockOrdersStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockTradeStream","easyNSQ_saveToDfsTable")
existsSubscriptionTopic(,"nsqStockSnapshotStream","easyNSQ_saveToDfsTable")

// 停止订阅
closeNsqConnection()</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title23" id="442-分开处理上海和深圳市场数据用户自定义流数据表和分区表名字"><h4 class="- topic/title title topictitle4" id="ariaid-title23">4.4.2. 分开处理上海和深圳市场数据（用户自定义流数据表和分区表名字）</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)

pluginPath = "&lt;your_path&gt;/plugins/nsq/PluginNsq.txt"
configFilePath = "&lt;your_path&gt;/nsq_sdk_config.ini";
// 确保 nsq 插件加载成功
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }

// 调用模块
use DolphinDBModules::easyNSQ

// 初始化环境并拉起订阅
iniNsqEnv(["myNsqOrdersSHStream", "myNsqOrdersSZStream", "myNsqTradeSHStream", "myNsqTradeSZStream","myNsqSnapshotSHStream", "myNsqSnapshotSZStream"])
iniNsqDfs("dfs://myNsqOrders", `myNsqOrdersSH`myNsqOrdersSZ)
iniNsqDfs("dfs://myNsqTrade", `myNsqTradeSH`myNsqTradeSZ)
iniNsqDfs("dfs://myNsqSnapshot", `myNsqSnapshotSH`myNsqSnapshotSZ)
subscribeNsq(configFilePath, "orders", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqOrdersSHStream", "myNsqOrdersSZStream"], dbPath="dfs://myNsqOrders", tableNames=["myNsqOrdersSH", "myNsqOrdersSZ"])
subscribeNsq(configFilePath, "trade", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqTradeSHStream", "myNsqTradeSZStream"], dbPath="dfs://myNsqTrade", tableNames=["myNsqTradeSH", "myNsqTradeSZ"])
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], saveToDfs=true, streamTableNames=["myNsqSnapshotSHStream", "myNsqSnapshotSZStream"], dbPath="dfs://myNsqSnapshot", tableNames=["myNsqSnapshotSH", "myNsqSnapshotSZ"])

// 检查订阅情况
nsq::getSubscriptionStatus()
select * from getStreamingStat().subWorkers where topic like "%easyNSQ_saveToDfsTable%"

// 停止订阅
closeNsqConnection()</code></pre></div></article><article class="- topic/topic topic nested3" aria-labelledby="ariaid-title24" id="443-清理以上例子运行时创建的流数据表和分区表"><h4 class="- topic/title title topictitle4" id="ariaid-title24">4.4.3. 清理以上例子运行时创建的流数据表和分区表</h4><div class="- topic/body body"><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>iniNsqEnv()
iniNsqDfs()
iniNsqEnv(["myNsqOrdersSHStream", "myNsqOrdersSZStream", "myNsqTradeSHStream", "myNsqTradeSZStream","myNsqSnapshotSHStream", "myNsqSnapshotSZStream"])
iniNsqDfs("dfs://myNsqOrders", `myNsqOrdersSH`myNsqOrdersSZ)
iniNsqDfs("dfs://myNsqTrade", `myNsqTradeSH`myNsqTradeSZ)
iniNsqDfs("dfs://myNsqSnapshot", `myNsqSnapshotSH`myNsqSnapshotSZ)</code></pre></div></article></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title25" id="5-设置节点启动时自动订阅-nsq-行情数据"><h2 class="- topic/title title topictitle2" id="ariaid-title25">5. 设置节点启动时自动订阅 NSQ 行情数据</h2><div class="- topic/body body"><p class="- topic/p p">由于只存在于内存中，DolphinDB 流数据表和流数据表的订阅在节点关闭后就会消失。所以每次节点启动时，都需要重新创建流数据表和发起订阅。如果每次重新启动后都要求用户进行手动操作，在使用上无疑是不便的。考虑到这一点，DolphinDB 实现了启动时自动执行用户指定脚本的功能。</p><p class="- topic/p p">DolphinDB 系统启动流程如下图所示：</p><br/><img class="- topic/image image" src="images/DolphinDBModules_easyNSQ/5_1.png"/><br/><ul class="- topic/ul ul"><li class="- topic/li li">用户启动脚本（<em class="+ topic/ph hi-d/i ph i">startup.dos</em>）</li></ul><p class="- topic/p p">用户启动脚本是通过配置参数 startup 后才会执行，单机 single 模式在 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 中配置，集群模式在 <em class="+ topic/ph hi-d/i ph i">cluster.cfg</em> 中配置，可配置绝对路径或相对路径。若配置了相对路径或者没有指定目录，系统会依次搜索本地节点的 <em class="+ topic/ph hi-d/i ph i">home</em> 目录、工作目录和可执行文件所在目录。</p><p class="- topic/p p">以 Linux 单节点为例，在 <em class="+ topic/ph hi-d/i ph i">dolphindb.cfg</em> 添加如下的配置项：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>startup=/DolphinDB/server/startup.dos</code></pre><p class="- topic/p p">然后在 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/</em> 路径下创建 <em class="+ topic/ph hi-d/i ph i">startup.dos</em> 脚本文件即可完成配置。之后每次节点启动时，都会自动执行 <em class="+ topic/ph hi-d/i ph i">/DolphinDB/server/startup.dos</em> 脚本文件中的代码。</p><p class="- topic/p p">假设用户希望接收上海和深证两个市场的 NSQ 行情数据、持久化存储，并对沪深行情数据做分开存储。用户的 <em class="+ topic/ph hi-d/i ph i">startup.dos</em> 应当如下：</p><pre class="+ topic/pre pr-d/codeblock pre codeblock"><code>// 登录数据库
login(`admin, `123456)
go

pluginPath = "&lt;your_path&gt;/plugins/nsq/PluginNsq.txt"
configFilePath = "&lt;your_path&gt;/nsq_sdk_config.ini";
// 确保 nsq 插件加载成功
try{ loadPlugin(pluginPath) } catch(ex) { print(ex) }
go

// 调用模块
use DolphinDBModules::easyNSQ
go

// 初始化环境(不删除分区表)
iniNsqEnv()
go

// 拉起订阅
subscribeNsq(configFilePath, "orders", ["sh","sz"], saveToDfs=true)
subscribeNsq(configFilePath, "trade", ["sh","sz"], saveToDfs=true)
subscribeNsq(configFilePath, "snapshot", ["sh","sz"], saveToDfs=true)</code></pre></div></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title26" id="6-行情数据表结构"><h2 class="- topic/title title topictitle2" id="ariaid-title26">6. 行情数据表结构</h2><div class="- topic/body body"><p class="- topic/p p">目前 NSQ 插件对上海和深圳市场的行情数据表结构做了统一处理，具体表结构如下：</p></div><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title27" id="61-逐笔委托orders"><h3 class="- topic/title title topictitle3" id="ariaid-title27">6.1. 逐笔委托（orders）</h3><div class="- topic/body body"><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="61-逐笔委托orders__entry__1"><strong class="+ topic/ph hi-d/b ph b">name</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="61-逐笔委托orders__entry__2"><strong class="+ topic/ph hi-d/b ph b">type</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">ExchangeID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">TransFlag</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">SeqNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">ChannelNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">TradeDate</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">DATE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">TransactTime</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">TIME</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">OrdPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">OrdVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">OrdSide</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">OrdType</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">OrdNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__1">BizIndex</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="61-逐笔委托orders__entry__2">LONG</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title28" id="62-逐笔成交trade"><h3 class="- topic/title title topictitle3" id="ariaid-title28">6.2. 逐笔成交（trade）</h3><div class="- topic/body body"><div class="table-container"><table class="- topic/table table" data-cols="2"><caption></caption><colgroup><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="62-逐笔成交trade__entry__1"><strong class="+ topic/ph hi-d/b ph b">name</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="62-逐笔成交trade__entry__2"><strong class="+ topic/ph hi-d/b ph b">type</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">ExchangeID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">SYMBOL</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TransFlag</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">SeqNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">ChannelNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TradeDate</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">DATE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TransactTime</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">TIME</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdMoney</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdBuyNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdSellNo</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">TrdBSFlag</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">CHAR</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__1">BizIndex</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="62-逐笔成交trade__entry__2">LONG</td></tr></tbody></table></div></div></article><article class="- topic/topic topic nested2" aria-labelledby="ariaid-title29" id="63-l2-快照snapshot"><h3 class="- topic/title title topictitle3" id="ariaid-title29">6.3. L2 快照（snapshot）</h3><div class="- topic/body body"><div class="table-container"><table class="- topic/table table" data-cols="6"><caption></caption><colgroup><col/><col/><col/><col/><col/><col/></colgroup><thead class="- topic/thead thead"><tr class="- topic/row"><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__1"><strong class="+ topic/ph hi-d/b ph b">name</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__2"><strong class="+ topic/ph hi-d/b ph b">type</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__3"><strong class="+ topic/ph hi-d/b ph b">name</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__4"><strong class="+ topic/ph hi-d/b ph b">type</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__5"><strong class="+ topic/ph hi-d/b ph b">name</strong></th><th class="- topic/entry entry align-left colsep-0 rowsep-0" id="63-l2-快照snapshot__entry__6"><strong class="+ topic/ph hi-d/b ph b">type</strong></th></tr></thead><tbody class="- topic/tbody tbody"><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">ExchangeID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">SYMBOL</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">BidVolume0-9</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">EtfSellBalance</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">InstrumentID</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">SYMBOL</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">AskVolume0-9</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">TotalWarrantExecVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">LastPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">TradesNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">WarrantLowerPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">PreClosePrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">InstrumentTradeStatus</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">CHAR</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">WarrantUpperPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">OpenPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">TotalBidVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelBuyNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">HighPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">TotalAskVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelSellNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">LowPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">MaBidPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelBuyVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">ClosePrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">MaAskPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelSellVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">LONG</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">UpperLimitPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">MaBondBidPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelBuyValue</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">LowerLimitPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">MaBondAskPrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">CancelSellValue</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">TradeDate</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DATE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">YieldToMaturity</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">TotalBuyNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">UpdateTime</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">TIME</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">IOPV</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">TotalSellNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">TradeVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">EtfBuycount</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">INT</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">DurationAfterBuy</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">TradeBalance</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">EtfSellCount</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">INT</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">DurationAfterSell</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">AveragePrice</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">EtfBuyVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">BidOrdersNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">BidPrice0-9</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">EtfBuyBalance</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">AskOrdersNum</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">INT</td></tr><tr class="- topic/row"><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__1">AskPrice0-9</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__2">DOUBLE</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__3">EtfSellVolume</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__4">LONG</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__5">PreIOPV</td><td class="- topic/entry entry align-left colsep-0 rowsep-0" headers="63-l2-快照snapshot__entry__6">DOUBLE</td></tr></tbody></table></div></div></article></article><article class="- topic/topic topic nested1" aria-labelledby="ariaid-title30" id="7-附件"><h2 class="- topic/title title topictitle2" id="ariaid-title30">7. 附件</h2><div class="- topic/body body"><ul class="- topic/ul ul"><li class="- topic/li li">模块文件： <a class="- topic/xref xref" href="src/easyNSQ.dos">easyNSQ.dos</a></li><li class="- topic/li li">startup脚本： <a class="- topic/xref xref" href="script/startup.dos">startup.dos</a></li><li class="- topic/li li">使用示例：  <a class="- topic/xref xref" href="script/easynsq_example.txt">examples.txt</a></li></ul></div></article></article></main></div>
                        
                        
                        
                        
                        
                        
                    </div>
                    
                        <nav role="navigation" id="wh_topic_toc" aria-label="On this page" class="col-lg-2 d-none d-lg-block navbar d-print-none"> 
                            <div id="wh_topic_toc_content">
		                        
	                            <div class=" wh_topic_toc "><div class="wh_topic_label">在本页上</div><ul><li class="topic-item"><a href="#1-%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E" data-tocid="1-安装说明">1. 安装说明</a><ul><li class="topic-item"><a href="#11-%E5%AE%89%E8%A3%85-nsq-%E6%8F%92%E4%BB%B6" data-tocid="11-安装-nsq-插件">1.1. 安装 NSQ 插件</a></li><li class="topic-item"><a href="#12-%E5%AE%89%E8%A3%85-easynsq-%E6%A8%A1%E5%9D%97" data-tocid="12-安装-easynsq-模块">1.2. 安装 easyNSQ 模块</a></li><li class="topic-item"><a href="#13-%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" data-tocid="13-使用示例">1.3. 使用示例</a></li></ul></li><li class="topic-item"><a href="#2-%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E8%AF%B4%E6%98%8E" data-tocid="2-实时行情数据存储说明">2. 实时行情数据存储说明</a><ul><li class="topic-item"><a href="#21-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8" data-tocid="21-接收行情数据到流数据表">2.1. 接收行情数据到流数据表</a></li><li class="topic-item"><a href="#22-%E6%8E%A5%E6%94%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%88%B0%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%88%B0%E5%88%86%E5%8C%BA%E8%A1%A8" data-tocid="22-接收行情数据到流数据表并持久化到分区表">2.2. 接收行情数据到流数据表，并持久化到分区表</a></li><li class="topic-item"><a href="#23-%E5%90%88%E5%B9%B6%E5%AD%98%E5%82%A8%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="23-合并存储上海和深圳市场行情数据">2.3. 合并存储上海和深圳市场行情数据</a></li></ul></li><li class="topic-item"><a href="#3-easynsq-%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%8F%A3%E4%BB%8B%E7%BB%8D" data-tocid="3-easynsq-模块接口介绍">3. easyNSQ 模块接口介绍</a><ul><li class="topic-item"><a href="#31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames" data-tocid="31-easynsqsubscribensqconfigfilepath-datasource-markets-merge-savetodfs-streamtablenames-dbpath-tablenames">3.1. easyNSQ::subscribeNsq(configFilePath, dataSource, [markets], [merge], [saveToDfs], [streamTableNames], [dbPath], [tableNames])</a></li><li class="topic-item"><a href="#32-easynsqclosensqconnection" data-tocid="32-easynsqclosensqconnection">3.2. easyNSQ::closeNsqConnection()</a></li><li class="topic-item"><a href="#33-easynsqininsqenvstreamtablenames" data-tocid="33-easynsqininsqenvstreamtablenames">3.3. easyNSQ::iniNsqEnv([streamTableNames])</a></li><li class="topic-item"><a href="#34-easynsqininsqdfsdbname-tbnames" data-tocid="34-easynsqininsqdfsdbname-tbnames">3.4. easyNSQ::iniNsqDfs([dbName], [tbNames])</a></li></ul></li><li class="topic-item"><a href="#4-easynsq-%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B" data-tocid="4-easynsq-模块使用示例">4. easyNSQ 模块使用示例</a><ul><li class="topic-item"><a href="#41-%E4%BE%8B1-%E6%8E%A5%E6%94%B6%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA-snapshot-%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="41-例1-接收深圳市场-snapshot-实时行情数据">4.1. 例1. 接收深圳市场 snapshot 实时行情数据</a></li><li class="topic-item"><a href="#42-%E4%BE%8B2-%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%B8%82%E5%9C%BA%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8" data-tocid="42-例2-接收上海市场所有类型实时行情数据并持久化存储">4.2. 例2. 接收上海市场所有类型实时行情数据，并持久化存储</a></li><li class="topic-item"><a href="#43-%E4%BE%8B3-%E5%81%9C%E6%AD%A2%E6%89%80%E6%9C%89%E8%AE%A2%E9%98%85%E5%90%8E%E9%87%8D%E6%96%B0%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%B8%82%E5%9C%BA-orders-%E6%95%B0%E6%8D%AE" data-tocid="43-例3-停止所有订阅后重新接收上海市场-orders-数据">4.3. 例3. 停止所有订阅后，重新接收上海市场 orders 数据</a><ul><li class="topic-item"><a href="#431-%E4%BF%9D%E7%95%99%E4%B9%8B%E5%89%8D%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE" data-tocid="431-保留之前持久化的数据">4.3.1. 保留之前持久化的数据</a></li><li class="topic-item"><a href="#432-%E4%B8%8D%E4%BF%9D%E7%95%99%E4%B9%8B%E5%89%8D%E6%8C%81%E4%B9%85%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE" data-tocid="432-不保留之前持久化的数据">4.3.2. 不保留之前持久化的数据</a></li></ul></li><li class="topic-item"><a href="#44-%E4%BE%8B4-%E6%8E%A5%E6%94%B6%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AE%9E%E6%97%B6%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E5%B9%B6%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8" data-tocid="44-例4-接收上海和深圳市场所有类型的实时行情数据并持久化存储">4.4. 例4. 接收上海和深圳市场所有类型的实时行情数据，并持久化存储</a><ul><li class="topic-item"><a href="#441-%E5%90%88%E5%B9%B6%E5%A4%84%E7%90%86%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%95%B0%E6%8D%AE" data-tocid="441-合并处理上海和深圳市场数据">4.4.1. 合并处理上海和深圳市场数据</a></li><li class="topic-item"><a href="#442-%E5%88%86%E5%BC%80%E5%A4%84%E7%90%86%E4%B8%8A%E6%B5%B7%E5%92%8C%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%9C%BA%E6%95%B0%E6%8D%AE%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%92%8C%E5%88%86%E5%8C%BA%E8%A1%A8%E5%90%8D%E5%AD%97" data-tocid="442-分开处理上海和深圳市场数据用户自定义流数据表和分区表名字">4.4.2. 分开处理上海和深圳市场数据（用户自定义流数据表和分区表名字）</a></li><li class="topic-item"><a href="#443-%E6%B8%85%E7%90%86%E4%BB%A5%E4%B8%8A%E4%BE%8B%E5%AD%90%E8%BF%90%E8%A1%8C%E6%97%B6%E5%88%9B%E5%BB%BA%E7%9A%84%E6%B5%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%92%8C%E5%88%86%E5%8C%BA%E8%A1%A8" data-tocid="443-清理以上例子运行时创建的流数据表和分区表">4.4.3. 清理以上例子运行时创建的流数据表和分区表</a></li></ul></li></ul></li><li class="topic-item"><a href="#5-%E8%AE%BE%E7%BD%AE%E8%8A%82%E7%82%B9%E5%90%AF%E5%8A%A8%E6%97%B6%E8%87%AA%E5%8A%A8%E8%AE%A2%E9%98%85-nsq-%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE" data-tocid="5-设置节点启动时自动订阅-nsq-行情数据">5. 设置节点启动时自动订阅 NSQ 行情数据</a></li><li class="topic-item"><a href="#6-%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%BB%93%E6%9E%84" data-tocid="6-行情数据表结构">6. 行情数据表结构</a><ul><li class="topic-item"><a href="#61-%E9%80%90%E7%AC%94%E5%A7%94%E6%89%98orders" data-tocid="61-逐笔委托orders">6.1. 逐笔委托（orders）</a></li><li class="topic-item"><a href="#62-%E9%80%90%E7%AC%94%E6%88%90%E4%BA%A4trade" data-tocid="62-逐笔成交trade">6.2. 逐笔成交（trade）</a></li><li class="topic-item"><a href="#63-l2-%E5%BF%AB%E7%85%A7snapshot" data-tocid="63-l2-快照snapshot">6.3. L2 快照（snapshot）</a></li></ul></li><li class="topic-item"><a href="#7-%E9%99%84%E4%BB%B6" data-tocid="7-附件">7. 附件</a></li></ul></div>
	                        	
                        	</div>
                        </nav>
                    
                </div>
            </div>
            
            
            
        </div> 
        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container mx-auto ">
<title>Copyright</title><p><b> ©2024 浙江智臾科技有限公司 浙ICP备18048711号-3</b></p>
  </div>
</footer>
        
        <div id="go2top" class="d-print-none">
            <span class="oxy-icon oxy-icon-up"></span>
        </div>
        
        <div id="modal_img_large" class="modal">
            <span class="close oxy-icon oxy-icon-remove"></span>
            <div id="modal_img_container"></div>
            <div id="caption"></div>
        </div>
        
        
        
    </body>
</html>